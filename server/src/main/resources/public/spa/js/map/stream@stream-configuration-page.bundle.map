{"version":3,"sources":["webpack:///./src/application/lib/react_lib/canvas_video_graphics/CanvasGraphicsPreprocessor.tsx","webpack:///./src/application/lib/react_lib/canvas_video_graphics/CanvasGraphicsRenderer.tsx","webpack:///./src/application/lib/react_lib/canvas_video_graphics/index.ts","webpack:///./src/application/lib/react_lib/canvas_video_graphics/rendering/graphics_objects/base/CanvasGraphicsInteractiveObject.ts","webpack:///./src/application/lib/react_lib/canvas_video_graphics/rendering/graphics_objects/base/CanvasGraphicsMovableCircleObject.ts","webpack:///./src/application/lib/react_lib/canvas_video_graphics/rendering/graphics_objects/base/CanvasGraphicsMovableObject.ts","webpack:///./src/application/lib/react_lib/canvas_video_graphics/rendering/graphics_objects/base/CanvasGraphicsMovableRectangleObject.ts","webpack:///./src/application/lib/react_lib/canvas_video_graphics/rendering/graphics_objects/base/CanvasGraphicsRenderObject.ts","webpack:///./src/application/lib/react_lib/canvas_video_graphics/rendering/graphics_objects/base/CanvasGraphicsResizableObject.ts","webpack:///./src/application/lib/react_lib/canvas_video_graphics/rendering/graphics_objects/index.ts","webpack:///./src/application/lib/react_lib/canvas_video_graphics/rendering/graphics_objects/movable/AbstractMovableCircleObject.ts","webpack:///./src/application/lib/react_lib/canvas_video_graphics/rendering/graphics_objects/movable/AbstractMovableRectangleObject.ts","webpack:///./src/application/lib/react_lib/canvas_video_graphics/rendering/graphics_objects/movable/ResizeControl.ts","webpack:///./src/application/lib/react_lib/canvas_video_graphics/rendering/graphics_objects/static/dom/DomCanvasShadowRO.ts","webpack:///./src/application/lib/react_lib/canvas_video_graphics/rendering/graphics_objects/static/dom/DomVideoRO.ts","webpack:///./src/application/lib/react_lib/canvas_video_graphics/rendering/graphics_objects/static/text/CenteredTextRO.ts","webpack:///./src/application/lib/react_lib/canvas_video_graphics/rendering/graphics_objects/static/utils/GridLayoutRO.ts","webpack:///./src/application/lib/react_lib/canvas_video_graphics/rendering/services/AbstractRenderingService.ts","webpack:///./src/application/lib/react_lib/canvas_video_graphics/rendering/services/RenderingService.ts","webpack:///./src/application/lib/react_lib/canvas_video_graphics/rendering/services/index.ts","webpack:///./src/application/lib/react_lib/canvas_video_graphics/util/uuid.ts","webpack:///./src/application/modules/stream/data/services/local_media/EDeviceKind.ts","webpack:///./src/application/modules/stream/data/services/local_media/LocalMediaService.ts","webpack:///./src/application/modules/stream/data/services/local_media/index.ts","webpack:///./src/application/modules/stream/data/services/rendering/RenderingService.ts","webpack:///./src/application/modules/stream/data/services/rendering/canvas_objects/SimpleCircle.ts","webpack:///./src/application/modules/stream/data/services/rendering/canvas_objects/SimpleRectangle.ts","webpack:///./src/application/modules/stream/data/services/rendering/canvas_objects/index.ts","webpack:///./src/application/modules/stream/data/services/rendering/index.ts","webpack:///./src/application/modules/stream/view/components/elements/canvas_objects_management/CanvasObjectsAdditionList/CanvasObjectsAdditionList.Component.tsx","webpack:///./src/application/modules/stream/view/components/elements/canvas_objects_management/CanvasObjectsAdditionList/CanvasObjectsAdditionList.Style.ts","webpack:///./src/application/modules/stream/view/components/elements/canvas_objects_management/CanvasObjectsAdditionList/index.ts","webpack:///./src/application/modules/stream/view/components/elements/canvas_objects_management/PreviewConfigurationBlock/PreviewConfigurationBlock.Component.tsx","webpack:///./src/application/modules/stream/view/components/elements/canvas_objects_management/PreviewConfigurationBlock/PreviewConfigurationBlock.Style.ts","webpack:///./src/application/modules/stream/view/components/elements/canvas_objects_management/PreviewConfigurationBlock/index.ts","webpack:///./src/application/modules/stream/view/components/elements/canvas_objects_management/StreamingHelpManager/StreamingHelpManager.Component.tsx","webpack:///./src/application/modules/stream/view/components/elements/canvas_objects_management/StreamingHelpManager/StreamingHelpManager.Style.ts","webpack:///./src/application/modules/stream/view/components/elements/canvas_objects_management/StreamingHelpManager/index.ts","webpack:///./src/application/modules/stream/view/components/elements/input_source/InputSourcesDrawerManager/InputSourcesDrawerManager.Component.tsx","webpack:///./src/application/modules/stream/view/components/elements/input_source/InputSourcesDrawerManager/InputSourcesDrawerManager.Style.ts","webpack:///./src/application/modules/stream/view/components/elements/input_source/InputSourcesDrawerManager/index.ts","webpack:///./src/application/modules/stream/view/components/elements/input_source/InputSourcesSelectForm/InputSourcesSelectForm.Component.tsx","webpack:///./src/application/modules/stream/view/components/elements/input_source/InputSourcesSelectForm/InputSourcesSelectForm.Style.ts","webpack:///./src/application/modules/stream/view/components/elements/input_source/InputSourcesSelectForm/index.ts","webpack:///./src/application/modules/stream/view/components/elements/video_rendering/RenderedVideoPreview/RenderedVideoPreview.Component.tsx","webpack:///./src/application/modules/stream/view/components/elements/video_rendering/RenderedVideoPreview/RenderedVideoPreview.Style.ts","webpack:///./src/application/modules/stream/view/components/elements/video_rendering/RenderedVideoPreview/index.ts","webpack:///./src/application/modules/stream/view/components/elements/video_rendering/VideoPreview/VideoPreview.tsx","webpack:///./src/application/modules/stream/view/components/elements/video_rendering/VideoPreview/index.ts","webpack:///./src/application/modules/stream/view/containers/elements/CanvasObjectAdditionManager/CanvasObjectAdditionManager.Component.tsx","webpack:///./src/application/modules/stream/view/containers/elements/CanvasObjectAdditionManager/CanvasObjectAdditionManager.Style.ts","webpack:///./src/application/modules/stream/view/containers/elements/CanvasObjectAdditionManager/index.ts","webpack:///./src/application/modules/stream/view/containers/pages/StreamConfigurationPage/StreamConfigurationPage.Component.tsx","webpack:///./src/application/modules/stream/view/containers/pages/StreamConfigurationPage/StreamConfigurationPage.Style.ts","webpack:///./src/application/modules/stream/view/containers/pages/StreamConfigurationPage/index.ts"],"names":[],"mappings":"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","file":"js/chunk:stream@stream-configuration-page.js","sourcesContent":["import * as React from \"react\";\nimport {PureComponent} from \"react\";\n\nimport {CanvasGraphicsRenderer} from \"./CanvasGraphicsRenderer\";\n\nimport {CanvasGraphicsRenderObject, DomVideoRO} from \"./rendering/graphics_objects/index\";\nimport {GridLayoutRO} from \"./rendering/graphics_objects/index\";\n\nimport {CenteredTextRO} from \"./rendering/graphics_objects/static/text/CenteredTextRO\";\n\nexport interface ICanvasGraphicsStreamProps {\n  showGrid: boolean;\n  showGraphics: boolean;\n  showPreview: boolean;\n  renderingObjects: Array<CanvasGraphicsRenderObject>;\n  stream: MediaStream | null;\n}\n\nexport class CanvasGraphicsPreprocessor extends PureComponent<ICanvasGraphicsStreamProps> {\n\n  public render(): JSX.Element {\n    return (\n      <CanvasGraphicsRenderer previewMode={this.props.showPreview}\n                              externalRenderingItems={this.getOutputRenderingObjectsContext()}\n                              internalRenderingItems={this.getPreviewRenderingObjectsContext()}\n      />\n    );\n  }\n\n  private getPreviewRenderingObjectsContext(): Array<CanvasGraphicsRenderObject> {\n\n    const previewItems: Array<CanvasGraphicsRenderObject> = [];\n\n    if (this.props.showGraphics === false) {\n      return previewItems;\n    }\n\n    if (this.props.showGrid === true && this.props.showPreview === false) {\n      previewItems.push(new GridLayoutRO(1, 1));\n    }\n\n    return previewItems.concat(this.props.renderingObjects);\n  }\n\n  private getOutputRenderingObjectsContext(): Array<CanvasGraphicsRenderObject> {\n\n    // Todo: Spinner instead of this.\n\n    if (this.props.stream === null) {\n      return [\n        new CenteredTextRO(\"Waiting for input stream.\", 7, \"#FFF\")\n      ];\n    }\n\n    if (this.props.stream.getVideoTracks().length === 0) {\n      return [\n        new CenteredTextRO(\"Waiting for video.\", 7, \"#FFF\")\n      ];\n    }\n\n    // Passed 'error' conditions.\n\n    const outputItems: Array<CanvasGraphicsRenderObject> = [\n      new DomVideoRO(this.props.stream)\n    ];\n\n    if (this.props.showGraphics === true) {\n      return outputItems.concat(this.props.renderingObjects);\n    }\n\n    return outputItems;\n  }\n\n}\n","import * as React from \"react\";\nimport {createRef, Fragment, MouseEvent, PureComponent, RefObject} from \"react\";\nimport ReactResizeDetector from \"react-resize-detector\";\nimport {Bind} from \"redux-cbd\";\n\nimport {ICanvasGraphicsSizingContext} from \"./rendering/context/index\";\nimport {CanvasGraphicsRenderObject, DomCanvasShadowRO} from \"./rendering/graphics_objects\";\nimport {AbstractRenderingService, RenderingService} from \"./rendering/services\";\n\nexport interface ICanvasGraphicsRendererProps {\n  previewMode: boolean;\n  internalRenderingItems: Array<CanvasGraphicsRenderObject>;\n  externalRenderingItems: Array<CanvasGraphicsRenderObject>;\n}\n\nexport class CanvasGraphicsRenderer extends PureComponent<ICanvasGraphicsRendererProps> {\n\n  private static readonly DEFAULT_ASPECT_RATIO: number = 16 / 9;\n\n  private readonly internalPreRendererCanvas: RefObject<HTMLCanvasElement> = createRef();\n  private readonly externalPreRendererCanvas: RefObject<HTMLCanvasElement> = createRef();\n  private readonly composedRendererCanvas: RefObject<HTMLCanvasElement> = createRef();\n\n  private readonly internalRenderingService: AbstractRenderingService = new RenderingService();\n  private readonly externalRenderingService: AbstractRenderingService = new RenderingService();\n  private readonly composedRenderingService: AbstractRenderingService = new RenderingService();\n\n  /* Lifecycle: */\n\n  public componentWillMount(): void {\n\n    this.internalRenderingService.enableRendering();\n    this.externalRenderingService.enableRendering();\n    this.composedRenderingService.enableRendering();\n  }\n\n  public componentDidMount(): void {\n\n    const internalPreRendererCanvas: HTMLCanvasElement = this.getInternalPreRenderer();\n    const externalPreRendererCanvas: HTMLCanvasElement = this.getExternalPreRenderer();\n    const composedRendererCanvas: HTMLCanvasElement = this.getComposedRenderer();\n\n    this.internalRenderingService.setRenderContext(internalPreRendererCanvas.getContext(\"2d\") as CanvasRenderingContext2D);\n    this.externalRenderingService.setRenderContext(externalPreRendererCanvas.getContext(\"2d\") as CanvasRenderingContext2D);\n    this.composedRenderingService.setRenderContext(composedRendererCanvas.getContext(\"2d\") as CanvasRenderingContext2D);\n\n    this.internalRenderingService.setRenderObjects(this.props.internalRenderingItems);\n    this.externalRenderingService.setRenderObjects(this.props.externalRenderingItems);\n    this.composedRenderingService.setRenderObjects([\n      new DomCanvasShadowRO(externalPreRendererCanvas),\n      new DomCanvasShadowRO(internalPreRendererCanvas)\n    ]);\n\n    if (this.props.previewMode) {\n      this.internalRenderingService.disableInteraction();\n    } else {\n      this.internalRenderingService.enableInteraction();\n    }\n    this.externalRenderingService.disableInteraction();\n\n    this.externalRenderingService.disableContextCleanup();\n\n    this.internalRenderingService.render();\n    this.externalRenderingService.render();\n    this.composedRenderingService.render();\n  }\n\n  public componentDidUpdate(): void {\n\n    if (this.props.previewMode) {\n      this.internalRenderingService.disableInteraction();\n    } else {\n      this.internalRenderingService.enableInteraction();\n    }\n\n    this.internalRenderingService.setRenderObjects(this.props.internalRenderingItems);\n    this.externalRenderingService.setRenderObjects(this.props.externalRenderingItems);\n  }\n\n  public componentWillUnmount(): void {\n\n    this.internalRenderingService.disableRendering();\n    this.externalRenderingService.disableRendering();\n    this.composedRenderingService.disableRendering();\n  }\n\n  /* Stream getters for referal: */\n\n  public getInternalStream(): MediaStream {\n    // @ts-ignore\n    return this.getInternalPreRenderer().captureStream();\n  }\n\n  public getExternalStream(): MediaStream {\n    // @ts-ignore\n    return this.getExternalPreRenderer().captureStream();\n  }\n\n  public getComposedStream(): MediaStream {\n    // @ts-ignore\n    return this.getComposedRenderer().captureStream();\n  }\n\n  public render(): JSX.Element {\n    return (\n      <Fragment>\n\n        <div className={\"canvas-renderer-layout\"}\n             onMouseMove={this.handleLayoutMouseMove}\n             onMouseEnter={this.handleLayoutMouseEnter}\n             onMouseLeave={this.handleLayoutMouseLeave}\n             onMouseDown={this.handleLayoutMouseDown}\n             onMouseUp={this.handleLayoutMouseUp}\n        >\n\n          <canvas ref={this.internalPreRendererCanvas} className={\"canvas-prerenderer-internal\"} hidden/>\n          <canvas ref={this.externalPreRendererCanvas} className={\"canvas-prerenderer-external\"} hidden />\n          <canvas ref={this.composedRendererCanvas} className={\"canvas-renderer-composed\"}/>\n\n        </div>\n\n        <ReactResizeDetector onResize={(width, height) => this.reCalculateSizing(width, height)}\n                             refreshMode={\"throttle\"} refreshRate={500}\n                             handleHeight handleWidth/>\n\n      </Fragment>\n    );\n  }\n\n  /* Getters for pre-renderer: */\n\n  private getInternalPreRenderer(): HTMLCanvasElement {\n    return (this.internalPreRendererCanvas.current as any);\n  }\n\n  private getExternalPreRenderer(): HTMLCanvasElement {\n    return (this.externalPreRendererCanvas.current as any);\n  }\n\n  private getComposedRenderer(): HTMLCanvasElement {\n    return (this.composedRendererCanvas.current as any);\n  }\n\n  /* Events related methods: */\n\n  @Bind\n  private handleLayoutMouseDown(event: MouseEvent): void {\n    this.internalRenderingService.handleMouseDown(event);\n  }\n\n  @Bind\n  private handleLayoutMouseUp(event: MouseEvent): void {\n    this.internalRenderingService.handleMouseUp(event);\n  }\n\n  @Bind\n  private handleLayoutMouseMove(event: MouseEvent): void {\n    this.internalRenderingService.handleMouseMove(event);\n  }\n\n  @Bind\n  private handleLayoutMouseEnter(event: MouseEvent): void {\n    this.internalRenderingService.handleMouseEnter(event);\n  }\n\n  @Bind\n  private handleLayoutMouseLeave(event: MouseEvent): void {\n    this.internalRenderingService.handleMouseLeave(event);\n  }\n\n  /* Sizing related methods: */\n\n  private reCalculateSizing(width: number, height: number): void {\n\n    let canvasWidth: number = 0;\n    let canvasHeight: number = 0;\n\n    const aspectRatio: number = CanvasGraphicsRenderer.DEFAULT_ASPECT_RATIO;\n    const maxHeight = width / aspectRatio;\n\n    if (maxHeight <= height) {\n      canvasHeight = maxHeight;\n      canvasWidth = width;\n    } else {\n      canvasHeight = height;\n      canvasWidth = height * aspectRatio;\n    }\n\n    this.resize(Math.floor(canvasWidth), Math.floor(canvasHeight));\n  }\n\n  private resize(width: number, height: number): void {\n\n    // Update sizing for layouts.\n\n    const internalPreRenderer: HTMLCanvasElement = this.getInternalPreRenderer();\n    const externalPreRenderer: HTMLCanvasElement = this.getExternalPreRenderer();\n    const composedRenderer: HTMLCanvasElement = this.getComposedRenderer();\n\n    internalPreRenderer.width = width;\n    internalPreRenderer.height = height;\n\n    externalPreRenderer.width = width;\n    externalPreRenderer.height = height;\n\n    composedRenderer.width = width;\n    composedRenderer.height = height;\n\n    // Update sizing context for renderer.\n\n    const boundingRect: ClientRect = composedRenderer.getBoundingClientRect();\n    const sizingContext: ICanvasGraphicsSizingContext = {\n      height,\n      offsetX: boundingRect.left,\n      offsetY: boundingRect.top,\n      width\n    };\n\n    this.internalRenderingService.setSizing(sizingContext);\n    this.externalRenderingService.setSizing(sizingContext);\n    this.composedRenderingService.setSizing(sizingContext);\n  }\n\n}\n","export * from \"./rendering/graphics_objects\";\nexport {CanvasGraphicsPreprocessor} from \"./CanvasGraphicsPreprocessor\";\n","import {CanvasGraphicsRenderObject} from \"./CanvasGraphicsRenderObject\";\n\nexport abstract class CanvasGraphicsInteractiveObject extends CanvasGraphicsRenderObject {\n\n  public selected: boolean = false;\n\n  public isInteractive(): boolean {\n    return true;\n  }\n\n  public isSelected(): boolean {\n    return this.selected;\n  }\n\n  public setSelected(selected: boolean): void {\n    this.selected = selected;\n  }\n\n  public abstract renderInteraction(): void;\n\n}\n","import {IPoint} from \"../../context/index\";\nimport {CanvasGraphicsMovableObject} from \"./CanvasGraphicsMovableObject\";\n\nexport abstract class CanvasGraphicsMovableCircleObject extends CanvasGraphicsMovableObject {\n\n  public isInBounds(target: IPoint): boolean {\n\n    const { x: centerX, y: centerY } = this.getBoundsCenter();\n\n    return Math.sqrt(Math.pow((target.x - centerX), 2) + Math.pow((target.y - centerY), 2)) < this.getBoundsRadius();\n  }\n\n  protected onMove(moveTo: IPoint, moveFrom: IPoint): void {\n\n    const center: IPoint = this.getBoundsCenter();\n    const newPosition: IPoint = { x: 0, y: 0};\n\n    newPosition.x = center.x + (moveTo.x - moveFrom.x);\n    newPosition.y = center.y + (moveTo.y - moveFrom.y);\n\n    this.setBoundsCenter({ x: this.asPercentageWidth(newPosition.x), y: this.asPercentageHeight(newPosition.y) });\n  }\n\n  protected renderSelectionOverElement(): void {\n\n    const context: CanvasRenderingContext2D = this.getContext();\n    const center: IPoint = this.getBoundsCenter();\n    const radius: number = this.getBoundsRadius() * 100 / this.getPercentageWidth(100);\n\n    const {width: pWidth}: { width: number } = this.getPercentageBaseSizing();\n\n    const piOffset: number = (Date.now() - this.createdAt) / 2000 * Math.PI;\n\n    const segmentCount: number = 8;\n    const segmentLengthOffset: number = 0.1 * Math.PI;\n\n    context.strokeStyle = \"#5dff71\";\n    context.fillStyle = \"#5dff71\";\n    context.lineWidth = 3;\n\n    context.beginPath();\n    context.arc(center.x, center.y, pWidth * 0.25, 0, 2 * Math.PI);\n    context.fill();\n    context.closePath();\n\n    for (let it: number = 0; it < segmentCount; it ++) {\n\n      const offset = Math.PI * 2 / segmentCount * it;\n\n      context.beginPath();\n      context.arc(center.x, center.y, radius * pWidth + this.selectionPadding,\n        offset + piOffset, offset + segmentLengthOffset + piOffset);\n      context.stroke();\n      context.closePath();\n    }\n  }\n\n  protected abstract setBoundsCenter(center: IPoint): void;\n\n  protected abstract getBoundsCenter(): IPoint;\n\n  protected abstract getBoundsRadius(): number;\n\n}\n","import {CanvasGraphicsResizableObject} from \"./CanvasGraphicsResizableObject\";\n\nimport {IPoint} from \"../../context\";\n\nexport abstract class CanvasGraphicsMovableObject extends CanvasGraphicsResizableObject {\n\n  protected readonly selectionPadding: number = 0;\n\n  public afterMove(...args: Array<any>) { /*nothing*/ }\n\n  public isMovable(): boolean {\n    return true;\n  }\n\n  public move(moveTo: IPoint, moveFrom: IPoint): void {\n    this.onMove(moveTo, moveFrom);\n    this.afterMove(moveTo, moveFrom);\n  }\n\n  public abstract isInBounds(target: IPoint): boolean;\n\n  protected abstract onMove(moveTo: IPoint, moveFrom: IPoint): void;\n\n}\n","import {IBoundingRect, IPoint} from \"../../context\";\nimport {CanvasGraphicsMovableObject} from \"./CanvasGraphicsMovableObject\";\n\nexport abstract class CanvasGraphicsMovableRectangleObject extends CanvasGraphicsMovableObject {\n\n  public isInBounds(target: IPoint): boolean {\n\n    const {topLeft, topRight, botLeft, botRight} = this.getBoundingRect();\n    const realPoint: IPoint = { x: target.x, y: target.y };\n\n    // Additional radius for moving / selection.\n\n    topLeft.x -= this.selectionPadding;\n    topLeft.y -= this.selectionPadding;\n\n    topRight.x += this.selectionPadding;\n    topRight.y -= this.selectionPadding;\n\n    botLeft.x -= this.selectionPadding;\n    botLeft.y += this.selectionPadding;\n\n    botRight.x += this.selectionPadding;\n    botRight.y += this.selectionPadding;\n\n    // Check two triangles instead of rectangle.\n\n    const isInFirstTriangle: boolean = this.checkPointInTriangle(realPoint, botLeft, topLeft, topRight);\n    const isInSecondTriangle: boolean = this.checkPointInTriangle(realPoint, botLeft, botRight, topRight);\n\n    return isInFirstTriangle || isInSecondTriangle;\n  }\n\n  public checkTrianglesSign(p1: IPoint, p2: IPoint, p3: IPoint): boolean {\n    return ((p1.x - p3.x) * (p2.y - p3.y) - (p2.x - p3.x) * (p1.y - p3.y)) < 0;\n  }\n\n  public checkPointInTriangle(pt: IPoint, v1: IPoint, v2: IPoint, v3: IPoint): boolean {\n\n    const b1 = this.checkTrianglesSign(pt, v1, v2);\n    const b2 = this.checkTrianglesSign(pt, v2, v3);\n    const b3 = this.checkTrianglesSign(pt, v3, v1);\n\n    return ((b1 === b2) && (b2 === b3));\n  }\n\n  protected onMove(moveTo: IPoint, moveFrom: IPoint): void {\n\n    const boundingRect: IBoundingRect = this.getBoundingRect();\n    const newPosition: IPoint = { x: 0, y: 0};\n\n    newPosition.x = boundingRect.topLeft.x + (moveTo.x - moveFrom.x);\n    newPosition.y = boundingRect.topLeft.y + (moveTo.y - moveFrom.y);\n\n    this.setRoot(newPosition.x, newPosition.y);\n  }\n\n  protected renderSelectionOverElement(): void {\n\n    const context: CanvasRenderingContext2D = this.getContext();\n    const {width: pWidth, height: pHeight} = this.getPercentageBaseSizing();\n    const boundingRect: IBoundingRect = this.getBoundingRect();\n\n    const halfWidth: number = (boundingRect.topRight.x - boundingRect.topLeft.x) / 2;\n    const halfHeight: number = (boundingRect.botLeft.y - boundingRect.topLeft.y) / 2;\n\n    const center: IPoint = {\n      x: (boundingRect.topRight.x - halfWidth),\n      y: (boundingRect.botRight.y - halfHeight)\n    };\n\n    context.strokeStyle = \"#5dff71\";\n    context.fillStyle = \"#5dff71\";\n    context.lineWidth = 3;\n\n    context.beginPath();\n    context.arc(center.x, center.y, pWidth * 0.2, 0, 2 * Math.PI);\n    context.fill();\n    context.closePath();\n\n    // Over rect.\n\n    boundingRect.topLeft.x -= this.selectionPadding;\n    boundingRect.topLeft.y -= this.selectionPadding;\n\n    boundingRect.topRight.x += this.selectionPadding;\n    boundingRect.topRight.y -= this.selectionPadding;\n\n    boundingRect.botRight.x += this.selectionPadding;\n    boundingRect.botRight.y += this.selectionPadding;\n\n    boundingRect.botLeft.x -= this.selectionPadding;\n    boundingRect.botLeft.y += this.selectionPadding;\n\n    this.renderAnimatedDashedLine(boundingRect.topLeft, boundingRect.topRight);\n    this.renderAnimatedDashedLine(boundingRect.topRight, boundingRect.botRight);\n    this.renderAnimatedDashedLine(boundingRect.botRight, boundingRect.botLeft);\n    this.renderAnimatedDashedLine(boundingRect.botLeft, boundingRect.topLeft);\n\n  }\n\n  protected renderAnimatedDashedLine(p1: IPoint, p2: IPoint, count: number = 0): void {\n\n    const context: CanvasRenderingContext2D = this.getContext();\n\n    context.lineDashOffset = -((Date.now() - this.createdAt) % 2000) / 8;\n\n    context.setLineDash([25, 25]);\n\n    context.beginPath();\n    context.moveTo(p1.x, p1.y);\n    context.lineTo(p2.x, p2.y);\n    context.stroke();\n    context.closePath();\n\n    context.setLineDash([0]);\n    context.lineDashOffset = 0;\n\n  }\n\n  protected abstract setRoot(x: number, y: number ): void;\n\n  protected abstract getBoundingRect(): IBoundingRect;\n\n}\n","import {generateUUID} from \"../../../util/uuid\";\nimport {ICanvasGraphicsSizingContext} from \"../../context/ICanvasGraphicsSizingContext\";\n\nexport abstract class CanvasGraphicsRenderObject {\n\n  protected readonly createdAt: number = Date.now();\n\n  private id: string = \"0\";\n  private disabled: boolean = false;\n  private context: CanvasRenderingContext2D = null as any;\n  private sizing: ICanvasGraphicsSizingContext = null as any;\n\n  public constructor() {\n    this.id = generateUUID();\n  }\n\n  public setId(id: string): void {\n    this.id = id;\n  }\n\n  public getId(): string {\n    return this.id;\n  }\n\n  public setContext(context: CanvasRenderingContext2D): void {\n    this.context = context;\n  }\n\n  public setSizing(sizing: ICanvasGraphicsSizingContext) {\n    this.sizing = sizing;\n  }\n\n  public getContext(): CanvasRenderingContext2D {\n    return this.context;\n  }\n\n  public getSizing(): ICanvasGraphicsSizingContext {\n    return this.sizing;\n  }\n\n  public setDisabled(disabled: boolean): void {\n    this.disabled = disabled;\n  }\n\n  public isDisabled(): boolean {\n    return this.disabled;\n  }\n\n  public isMovable(): boolean {\n    return false;\n  }\n\n  public isResizable(): boolean {\n    return false;\n  }\n\n  public isInteractive(): boolean {\n    return false;\n  }\n\n  public abstract renderSelf(): void;\n\n  // Private implementation.\n\n  protected getPercentageWidth(percents: number): number {\n    return this.sizing.width * percents / 100;\n  }\n\n  protected getPercentageHeight(percents: number): number {\n    return this.sizing.height * percents / 100;\n  }\n\n  protected asPercentageWidth(absolute: number): number {\n    return absolute * 100 / this.sizing.width;\n  }\n\n  protected asPercentageHeight(absolute: number): number {\n    return absolute * 100 / this.sizing.height;\n  }\n\n  protected getPercentageBaseSizing() {\n    return { width: this.sizing.width / 100, height: this.sizing.height / 100 };\n  }\n\n}\n","import {IPoint} from \"../../../rendering/context\";\nimport {CanvasGraphicsInteractiveObject} from \"./CanvasGraphicsInteractiveObject\";\n\nexport abstract class CanvasGraphicsResizableObject extends CanvasGraphicsInteractiveObject {\n\n  public afterResize(...args: Array<any>): void { /*nothing*/ }\n\n  public isResizable(): boolean {\n    return true;\n  }\n\n  public resize(resizeTo: IPoint, resizeFrom: IPoint): void {\n    this.onResize(resizeTo, resizeFrom);\n  }\n\n  public abstract isInResizeBounds(target: IPoint): boolean;\n\n  public abstract isInBounds(target: IPoint): boolean;\n\n  protected abstract onMove(resizeTo: IPoint, resizeFrom: IPoint): void;\n\n  protected abstract onResize(resizeTo: IPoint, resizeFrom: IPoint): void;\n\n}\n","export {CanvasGraphicsRenderObject} from \"./base/CanvasGraphicsRenderObject\";\nexport {CanvasGraphicsInteractiveObject} from \"./base/CanvasGraphicsInteractiveObject\";\nexport {CanvasGraphicsMovableObject} from \"./base/CanvasGraphicsMovableObject\";\nexport {CanvasGraphicsMovableCircleObject} from \"./base/CanvasGraphicsMovableCircleObject\";\n\nexport {DomCanvasShadowRO} from \"./static/dom/DomCanvasShadowRO\";\nexport {DomVideoRO} from \"./static/dom/DomVideoRO\";\nexport {CenteredTextRO} from \"./static/text/CenteredTextRO\";\nexport {GridLayoutRO} from \"./static/utils/GridLayoutRO\";\n\nexport {ResizeControl} from \"./movable/ResizeControl\";\nexport {AbstractMovableCircleObject} from \"./movable/AbstractMovableCircleObject\";\nexport {AbstractMovableRectangleObject} from \"./movable/AbstractMovableRectangleObject\";\n","import {IPoint} from \"../../context/IPoint\";\nimport {CanvasGraphicsMovableCircleObject} from \"../base/CanvasGraphicsMovableCircleObject\";\nimport {ResizeControl} from \"./ResizeControl\";\n\nexport abstract class AbstractMovableCircleObject extends CanvasGraphicsMovableCircleObject {\n\n  protected radius: number = 150;\n  protected center: IPoint = { x: 100, y: 100 };\n  protected resizeControlsSize: number = 10;\n\n  private readonly resizeControl: ResizeControl = new ResizeControl(0, 0, 15, 15);\n\n  public constructor();\n  public constructor(radius?: number, center?: { x: number, y: number }) {\n\n    super();\n\n    this.radius = radius || 10;\n    this.center = center || { x: 50, y: 50 };\n  }\n\n  public abstract renderSelf(): void;\n\n  public renderInteraction(): void {\n    this.renderSelectionOverElement();\n    this.renderResizeControls();\n  }\n\n  public isInResizeBounds(target: IPoint): boolean {\n\n    const distance: number = Math.sqrt(Math.pow(target.x - this.getPercentageWidth(this.center.x), 2) + Math.pow(target.y - this.getPercentageHeight(this.center.y), 2));\n    const isResizingOverBorder: boolean = (this.selected && Math.abs(this.getPercentageWidth(this.radius) - distance) < 4);\n\n    return (isResizingOverBorder || this.resizeControl.isInBounds(target));\n  }\n\n  protected onResize(resizeTo: IPoint, resizeFrom: IPoint): void {\n\n    const distance: number = Math.sqrt(Math.pow(resizeTo.x - this.getPercentageWidth(this.center.x), 2) + Math.pow(resizeTo.y - this.getPercentageHeight(this.center.y), 2));\n    this.radius = this.asPercentageWidth(Math.max(this.resizeControlsSize + 2, distance));\n  }\n\n  protected getBoundsRadius(): number {\n    return this.getPercentageWidth(this.radius);\n  }\n\n  protected setBoundsCenter(target: IPoint): void {\n    this.center.x = target.x;\n    this.center.y = target.y;\n  }\n\n  protected getBoundsCenter(): IPoint {\n    return { x: this.getPercentageWidth(this.center.x), y: this.getPercentageHeight(this.center.y) };\n  }\n\n  private renderResizeControls(): void {\n\n    const { width: pWidth, height: pHeight } = this.getPercentageBaseSizing();\n\n    const resizeSize: number = this.resizeControlsSize;\n\n    this.resizeControl.setContext(this.getContext());\n    this.resizeControl.setSizing(this.getSizing());\n    this.resizeControl.updateAbsoluteSizing((this.center.x) * pWidth - resizeSize / 2, (this.center.y * pHeight - this.radius * pWidth) , resizeSize, resizeSize);\n    this.resizeControl.renderSelf();\n  }\n\n}\n","import {IBoundingRect} from \"../../context\";\nimport {IPoint} from \"../../context/IPoint\";\nimport {CanvasGraphicsMovableRectangleObject} from \"../base/CanvasGraphicsMovableRectangleObject\";\nimport {ResizeControl} from \"../movable/ResizeControl\";\n\nexport abstract class AbstractMovableRectangleObject extends CanvasGraphicsMovableRectangleObject {\n\n  protected left: number = 0;\n  protected top: number = 0;\n  protected width: number = 5;\n  protected height: number = 5;\n\n  protected resizeControlsSize: number = 15;\n\n  private readonly resizeTopLeft: ResizeControl = new ResizeControl(0, 0, 15, 15);\n  private readonly resizeTopRight: ResizeControl = new ResizeControl(0, 0, 15, 15);\n  private readonly resizeBotLeft: ResizeControl = new ResizeControl(0, 0, 15, 15);\n  private readonly resizeBotRight: ResizeControl = new ResizeControl(0, 0, 15, 15);\n\n  public constructor();\n  public constructor(left: number, top: number, width: number, height: number);\n  public constructor(leftParam?: number, topParam?: number, widthParam?: number, heightParam?: number) {\n\n    super();\n\n    const left: number = leftParam || 40;\n    const top: number = topParam || 40;\n    const width: number = widthParam || 20;\n    const height: number = heightParam || 20;\n\n    this.left = left;\n    this.top = top;\n    this.width = width;\n    this.height = height;\n\n    this.resizeTopLeft.setOwner(this);\n    this.resizeTopRight.setOwner(this);\n    this.resizeBotLeft.setOwner(this);\n    this.resizeBotRight.setOwner(this);\n\n    this.resizeTopLeft.setCorner(1);\n    this.resizeTopRight.setCorner(0);\n    this.resizeBotLeft.setCorner(2);\n    this.resizeBotRight.setCorner(3);\n  }\n\n  public abstract renderSelf(): void;\n\n  public renderInteraction(): void {\n    this.renderSelectionOverElement();\n    this.renderResizeControls();\n  }\n\n  public isInResizeBounds(target: IPoint): boolean {\n\n    return this.resizeTopLeft.isInBounds(target) || this.resizeTopRight.isInBounds(target) ||\n      this.resizeBotLeft.isInBounds(target) || this.resizeBotRight.isInBounds(target);\n  }\n\n  /* Change size or coordinate depending or corner: */\n  public afterResize(resizeControl: ResizeControl, corner: 0 | 1 | 2 | 3): void {\n\n    const bounds: IBoundingRect = this.getBoundingRect();\n    let diffX: number = 0;\n    let diffY: number = 0;\n\n    switch (corner) {\n\n      case 0:\n\n        diffY = this.asPercentageHeight(resizeControl.absoluteTop - bounds.topRight.y);\n\n        this.top += diffY;\n        this.height -= diffY;\n\n        this.width += this.asPercentageWidth(resizeControl.absoluteLeft + resizeControl.absoluteWidth - bounds.topLeft.x - this.getPercentageWidth(this.width));\n\n        break;\n\n      case 1:\n\n        diffX = this.asPercentageWidth(resizeControl.absoluteLeft - bounds.topLeft.x);\n\n        this.left += diffX;\n        this.width -= diffX;\n\n        diffY = this.asPercentageHeight(resizeControl.absoluteTop - bounds.topRight.y);\n\n        this.top += diffY;\n        this.height -= diffY;\n\n        break;\n\n      case 2:\n        diffX = this.asPercentageWidth(resizeControl.absoluteLeft - bounds.topLeft.x);\n\n        this.left += diffX;\n        this.width -= diffX;\n\n        this.height += this.asPercentageHeight(resizeControl.absoluteTop + resizeControl.absoluteHeight - bounds.topLeft.y - this.getPercentageHeight(this.height));\n\n        break;\n\n      case 3:\n        this.width += this.asPercentageWidth(resizeControl.absoluteLeft + resizeControl.absoluteWidth - bounds.botLeft.x - this.getPercentageWidth(this.width));\n        this.height += this.asPercentageHeight(resizeControl.absoluteTop + resizeControl.absoluteHeight - bounds.topLeft.y - this.getPercentageHeight(this.height));\n        break;\n\n      default:\n        throw new Error(\"Unknown corner: \" + corner);\n\n    }\n\n  }\n\n  protected onResize(resizeTo: IPoint, resizeFrom: IPoint): void {\n\n    const boundingRect: IBoundingRect = this.getBoundingRect();\n\n    const halfWidth: number = (boundingRect.topRight.x - boundingRect.topLeft.x) / 2;\n    const halfHeight: number = (boundingRect.botLeft.y - boundingRect.topLeft.y) / 2;\n\n    const center: IPoint = {\n      x: (boundingRect.topRight.x - halfWidth),\n      y: (boundingRect.botRight.y - halfHeight)\n    };\n\n    if (resizeTo.x > center.x && resizeTo.y < center.y) {\n      this.resizeTopRight.move(resizeTo, resizeFrom);\n    } else if (resizeTo.x < center.x && resizeTo.y < center.y) {\n      this.resizeTopLeft.move(resizeTo, resizeFrom);\n    } else if (resizeTo.x < center.x && resizeTo.y > center.y) {\n      this.resizeBotLeft.move(resizeTo, resizeFrom);\n    } else {\n      this.resizeBotRight.move(resizeTo, resizeFrom);\n    }\n\n  }\n\n  protected setRoot(x: number, y: number): void {\n    this.left = x * 100 / this.getPercentageWidth(100);\n    this.top = y * 100 / this.getPercentageHeight(100);\n  }\n\n  protected getBoundingRect(): IBoundingRect {\n\n    const { width: pWidth, height: pHeight } = this.getPercentageBaseSizing();\n\n    const topLeft: IPoint = { x: this.left * pWidth , y: this.top * pHeight };\n    const topRight: IPoint = { x: this.left * pWidth + this.width * pWidth, y: this.top * pHeight };\n    const botRight: IPoint = { x: this.left * pWidth + this.width * pWidth, y: this.top * pHeight + this.height * pHeight };\n    const botLeft: IPoint = { x: this.left * pWidth , y: this.top * pHeight + this.height * pHeight };\n\n    return { topLeft, topRight, botLeft, botRight};\n  }\n\n  private renderResizeControls(): void {\n\n    const { width: pWidth, height: pHeight } = this.getPercentageBaseSizing();\n\n    const resizeSize: number = this.resizeControlsSize;\n\n    const realHeight: number = this.height * pHeight;\n    const realWidth: number = this.width * pWidth;\n\n    this.resizeTopLeft.setContext(this.getContext());\n    this.resizeTopRight.setContext(this.getContext());\n    this.resizeBotLeft.setContext(this.getContext());\n    this.resizeBotRight.setContext(this.getContext());\n\n    this.resizeTopLeft.setSizing(this.getSizing());\n    this.resizeTopRight.setSizing(this.getSizing());\n    this.resizeBotLeft.setSizing(this.getSizing());\n    this.resizeBotRight.setSizing(this.getSizing());\n\n    this.resizeTopLeft.updateAbsoluteSizing(this.left * pWidth, this.top * pHeight, resizeSize, resizeSize);\n    this.resizeTopRight.updateAbsoluteSizing(this.left * pWidth, this.top * pHeight + realHeight - resizeSize, resizeSize, resizeSize);\n    this.resizeBotLeft.updateAbsoluteSizing(this.left * pWidth + realWidth - resizeSize, this.top * pHeight, resizeSize, resizeSize);\n    this.resizeBotRight.updateAbsoluteSizing(this.left * pWidth + realWidth - resizeSize, this.top * pHeight + realHeight - resizeSize, resizeSize, resizeSize);\n\n    this.resizeTopLeft.renderSelf();\n    this.resizeTopRight.renderSelf();\n    this.resizeBotLeft.renderSelf();\n    this.resizeBotRight.renderSelf();\n  }\n\n}\n","import {IPoint} from \"../../context/IPoint\";\nimport {CanvasGraphicsMovableRectangleObject} from \"../base/CanvasGraphicsMovableRectangleObject\";\nimport {CanvasGraphicsResizableObject} from \"../base/CanvasGraphicsResizableObject\";\n\nexport class ResizeControl extends CanvasGraphicsMovableRectangleObject {\n\n  public owner: CanvasGraphicsResizableObject = null as any;\n\n  public absoluteLeft: number = 0;\n  public absoluteTop: number = 0;\n  public absoluteWidth: number = 15;\n  public absoluteHeight: number = 15;\n\n  protected selectionPadding: number = 0;\n\n  private corner: 0 | 1 | 2 | 3 = 0;\n\n  public constructor(absoluteLeft: number, absoluteTop: number, absoluteWidth: number, absoluteHeight: number) {\n\n    super();\n\n    this.absoluteLeft = absoluteLeft;\n    this.absoluteTop = absoluteTop;\n    this.absoluteWidth = absoluteWidth;\n    this.absoluteHeight = absoluteHeight;\n  }\n\n  public renderSelf(): void {\n    this.renderElement();\n  }\n\n  public renderInteraction(): void {\n    // Do nothing there.\n  }\n\n  public afterMove(): void {\n    this.owner.afterResize(this, this.corner);\n  }\n\n  public isInResizeBounds(target: IPoint): boolean { return false; }\n\n  public updateAbsoluteSizing(absoluteLeft: number, absoluteTop: number, absoluteWidth: number, absoluteHeight: number): void {\n\n    this.absoluteLeft = absoluteLeft;\n    this.absoluteTop = absoluteTop;\n    this.absoluteWidth = absoluteWidth;\n    this.absoluteHeight = absoluteHeight;\n  }\n\n  public setOwner(owner: CanvasGraphicsResizableObject): void {\n    this.owner = owner;\n  }\n\n  public setCorner(corner: 0 | 1 | 2 | 3): void {\n    this.corner = corner;\n  }\n\n  protected onResize(resizeTo: IPoint, resizeFrom: IPoint): void { /**/ }\n\n  protected onMove(moveFrom: IPoint, moveTo: IPoint): void {\n\n    const boundingRect: { topLeft: IPoint, topRight: IPoint, botLeft: IPoint, botRight: IPoint } = this.getBoundingRect();\n\n    const halfWidth: number = (boundingRect.topRight.x - boundingRect.topLeft.x) / 2;\n    const halfHeight: number = (boundingRect.botLeft.y - boundingRect.topLeft.y) / 2;\n\n    this.setRoot((moveFrom.x - halfWidth), (moveFrom.y - halfHeight));\n  }\n\n  protected setRoot(x: number, y: number): void {\n    this.absoluteLeft = x;\n    this.absoluteTop = y;\n  }\n\n  protected getBoundingRect(): { topLeft: IPoint, topRight: IPoint, botLeft: IPoint, botRight: IPoint } {\n\n    const topLeft: IPoint = { x: this.absoluteLeft , y: this.absoluteTop };\n    const topRight: IPoint = { x: this.absoluteLeft + this.absoluteWidth, y: this.absoluteTop };\n    const botRight: IPoint = { x: this.absoluteLeft + this.absoluteWidth, y: this.absoluteTop + this.absoluteHeight };\n    const botLeft: IPoint = { x: this.absoluteLeft, y: this.absoluteTop + this.absoluteHeight };\n\n    return { topLeft, topRight, botLeft, botRight};\n  }\n\n  private renderElement(): void {\n\n    const context: CanvasRenderingContext2D = this.getContext();\n\n    context.lineWidth = 2;\n\n    context.beginPath();\n    context.rect(this.absoluteLeft, this.absoluteTop, this.absoluteWidth, this.absoluteHeight);\n    context.stroke();\n    context.closePath();\n  }\n\n}\n","import {CanvasGraphicsRenderObject} from \"../../base/CanvasGraphicsRenderObject\";\n\nexport class DomCanvasShadowRO extends CanvasGraphicsRenderObject {\n\n  private readonly shadow: HTMLCanvasElement;\n\n  public constructor(shadow: HTMLCanvasElement) {\n\n    super();\n\n    this.shadow = shadow;\n\n  }\n\n  public renderSelf(): void {\n    this.getContext().drawImage(this.shadow, 0, 0);\n  }\n\n}\n","import {ICanvasGraphicsSizingContext} from \"../../../context/ICanvasGraphicsSizingContext\";\n\nimport {CanvasGraphicsRenderObject} from \"../../base/CanvasGraphicsRenderObject\";\n\nexport class DomVideoRO extends CanvasGraphicsRenderObject {\n\n  private isVideoRendering: boolean = false;\n  private mediaStream: MediaStream = new MediaStream();\n  private hiddenVideoRenderer: HTMLVideoElement = document.createElement(\"video\");\n\n  public constructor(mediaStream: MediaStream) {\n\n    super();\n\n    this.mediaStream = mediaStream;\n    this.hiddenVideoRenderer.srcObject = mediaStream;\n\n    this.startVideo()\n      .then();\n\n  }\n\n  public renderSelf(): void {\n    const context: CanvasRenderingContext2D = this.getContext();\n    const sizing: ICanvasGraphicsSizingContext = this.getSizing();\n\n    this.hiddenVideoRenderer.width = sizing.width;\n    this.hiddenVideoRenderer.height = sizing.height;\n\n    context.drawImage(this.hiddenVideoRenderer, 0, 0, sizing.width, sizing.height);\n  }\n\n  private async startVideo(): Promise<void> {\n\n    if (this.isVideoRendering === false) {\n      await this.hiddenVideoRenderer.play();\n      this.isVideoRendering = true;\n    }\n  }\n\n}\n","import {CanvasGraphicsRenderObject} from \"../../base/CanvasGraphicsRenderObject\";\n\nexport class CenteredTextRO extends CanvasGraphicsRenderObject {\n\n  private increment: number = 0;\n\n  private readonly text: string = \"textLabel\";\n  private readonly textSize: number = 24;\n  private readonly textColor: string = \"#000\";\n\n  public constructor(text: string, textSize: number, textColor: string = \"#000\") {\n\n    super();\n\n    this.text = text;\n    this.textSize = textSize;\n    this.textColor = textColor;\n\n  }\n\n  public renderSelf(): void {\n    this.renderTextLabel();\n  }\n\n  private renderTextLabel(): void {\n\n    const context: CanvasRenderingContext2D = this.getContext();\n\n    let text = this.text;\n\n    const percentageSizing: { width: number, height: number } = this.getPercentageBaseSizing();\n\n    const textSize: number = percentageSizing.width * this.textSize;\n    const textAlignSub: number = textSize * text.length / 4;\n\n    context.strokeStyle = \"#FF0000\";\n    context.fillStyle = \"#FFF\";\n    context.font = `${textSize}px Comic Sans MS`;\n    context.textBaseline = \"middle\";\n    // context.textAlign = \"center\";\n\n    if (this.increment > 40 && this.increment < 80) {\n      text += \".\";\n    } else if (this.increment >= 80) {\n      text += \"..\";\n    }\n\n    this.increment++;\n    this.increment = this.increment % 120;\n\n    context.fillText(text, Math.floor(percentageSizing.width * 50 - textAlignSub), Math.floor(percentageSizing.height * 50));\n\n  }\n\n}\n","import {ICanvasGraphicsSizingContext} from \"../../../context/ICanvasGraphicsSizingContext\";\nimport {CanvasGraphicsRenderObject} from \"../../base/CanvasGraphicsRenderObject\";\n\nexport class GridLayoutRO extends CanvasGraphicsRenderObject {\n\n  private readonly lineWidth: number = 3;\n  private readonly verticalLinesCount: number = 1;\n  private readonly horizontalLinesCount: number = 1;\n\n  public constructor(verticalLinesCount: number = 1, horizontalLinesCount: number = 1) {\n\n    super();\n\n    this.verticalLinesCount = verticalLinesCount;\n    this.horizontalLinesCount = horizontalLinesCount;\n\n  }\n\n  public renderSelf(): void {\n\n    const context: CanvasRenderingContext2D = this.getContext();\n    const {width, height}: ICanvasGraphicsSizingContext = this.getSizing();\n\n    const endWidth: number = width - 1;\n    const endHeight: number = height - 1;\n\n    context.lineWidth = this.lineWidth;\n    context.strokeStyle = \"#1a09ff\";\n\n    for (let it = 1; it <= width; it += Math.floor(endWidth / (this.verticalLinesCount + 1))) {\n      this.renderLine(it, 0, it, height);\n    }\n\n    for (let it = 1; it <= height; it += Math.floor(endHeight / (this.horizontalLinesCount + 1))) {\n      this.renderLine(1, it, width, it);\n    }\n  }\n\n  private renderLine( x1: number, y1: number, x2: number, y2: number): void {\n\n    const context: CanvasRenderingContext2D = this.getContext();\n\n    context.beginPath();\n\n    context.moveTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.stroke();\n\n    context.closePath();\n\n  }\n\n}\n","import {MouseEvent} from \"react\";\n\nimport {ICanvasGraphicsSizingContext} from \"../context/ICanvasGraphicsSizingContext\";\nimport {CanvasGraphicsRenderObject} from \"../graphics_objects/base/CanvasGraphicsRenderObject\";\n\nimport {IPoint} from \"../context\";\n\nexport abstract class AbstractRenderingService {\n\n  /* Setters: */\n\n  public abstract setMouseDown(isMouseDown: boolean, mouseTouch: IPoint | null): void;\n  public abstract setMouseTouch(mouseTouch: IPoint): void;\n  public abstract setSizing(sizing: ICanvasGraphicsSizingContext): void;\n  public abstract setRenderContext(context: CanvasRenderingContext2D): void;\n  public abstract setRenderObjects(objects: Array<CanvasGraphicsRenderObject>): void;\n\n  public abstract disableContextCleanup(): void;\n  public abstract enableRendering(): void;\n  public abstract disableRendering(): void;\n  public abstract enableInteraction(): void;\n  public abstract disableInteraction(): void;\n\n  /* Events handlers: */\n\n  public abstract handleMouseDown(event: MouseEvent): void;\n\n  public abstract handleMouseUp(event: MouseEvent): void;\n\n  public abstract handleMouseMove(event: MouseEvent): void;\n\n  public abstract handleMouseEnter(event: MouseEvent): void;\n\n  public abstract handleMouseLeave(event: MouseEvent): void;\n\n  /* Rendering: */\n\n  public abstract render(): void;\n  public abstract clear(): void;\n\n}\n","import {MouseEvent} from \"react\";\nimport {Bind} from \"redux-cbd\";\n\nimport {ICanvasGraphicsSizingContext} from \"../context/ICanvasGraphicsSizingContext\";\nimport {CanvasGraphicsRenderObject} from \"../graphics_objects/base/CanvasGraphicsRenderObject\";\nimport {AbstractRenderingService} from \"./AbstractRenderingService\";\n\nimport {CanvasGraphicsInteractiveObject, CanvasGraphicsMovableObject} from \"../graphics_objects\";\n\nimport {IPoint} from \"../context\";\n\nexport class RenderingService extends AbstractRenderingService {\n\n  public shouldRender: boolean = false;\n  public shouldHandleInteraction: boolean = false;\n  public shouldCleanupConext: boolean = true;\n\n  private renderContext: CanvasRenderingContext2D = null as any;\n  private renderObjects: Array<CanvasGraphicsRenderObject> = [];\n  private renderSizing: ICanvasGraphicsSizingContext = { width: 160, height: 90, offsetX: 0, offsetY: 0 };\n\n  private isMouseDown: boolean = false;\n  private isResizing: boolean | null = null;\n  private mouseTouchCoordinates: IPoint | null = { x: 0, y: 0 };\n  private selectedObject: CanvasGraphicsMovableObject | null = null;\n\n  /* Setters: */\n\n  public setMouseDown(isMouseDown: boolean, mouseTouch: IPoint | null = null): void {\n    this.isMouseDown = isMouseDown;\n    this.mouseTouchCoordinates = mouseTouch;\n  }\n\n  public setMouseTouch(mouseTouch: IPoint): void {\n    this.mouseTouchCoordinates = mouseTouch;\n  }\n\n  public setSizing(sizing: ICanvasGraphicsSizingContext): void {\n    this.renderSizing = sizing;\n  }\n\n  public setResizing(isResizing: boolean | null): void {\n    this.isResizing = isResizing;\n  }\n\n  public setRenderContext(context: CanvasRenderingContext2D): void {\n    this.renderContext = context;\n  }\n\n  public setRenderObjects(objects: Array<CanvasGraphicsRenderObject>): void {\n    this.renderObjects = objects;\n  }\n\n  public enableRendering(): void {\n    this.shouldRender = true;\n  }\n\n  public disableRendering(): void {\n    this.shouldRender = false;\n  }\n\n  public enableInteraction(): void {\n    this.shouldHandleInteraction = true;\n  }\n\n  public disableInteraction(): void {\n    this.shouldHandleInteraction = false;\n  }\n\n  public disableContextCleanup(): void {\n    this.shouldCleanupConext = false;\n  }\n\n  /* Events: */\n\n  public handleMouseDown(event: MouseEvent): void {\n\n    if (!this.shouldHandleInteraction) {\n      return;\n    }\n\n    this.setMouseDown(true, { x: event.pageX - this.renderSizing.offsetX, y: event.pageY - this.renderSizing.offsetY });\n\n    // Remove selection.\n\n    this.selectedObject = null;\n\n    this.renderObjects.forEach((it) => {\n      if (it.isInteractive()) {\n        (it as CanvasGraphicsMovableObject).setSelected(false);\n      }\n    });\n\n    // Add selection.\n\n    for (let it: number = this.renderObjects.length - 1; it >= 0; it --) {\n\n      const renderObject = this.renderObjects[it];\n\n      if (renderObject.isMovable()) {\n\n        const movableRenderObject: CanvasGraphicsMovableObject = renderObject as CanvasGraphicsMovableObject;\n\n        if (movableRenderObject.isInBounds({ x: event.pageX - this.renderSizing.offsetX, y: event.pageY - this.renderSizing.offsetY })) {\n          movableRenderObject.setSelected(true);\n          this.selectedObject = movableRenderObject;\n          break;\n        }\n      }\n    }\n  }\n\n  public handleMouseUp(event: MouseEvent): void {\n\n    if (this.shouldHandleInteraction) {\n      this.setResizing(null);\n      this.setMouseDown(false);\n    }\n  }\n\n  public handleMouseMove(event: MouseEvent): void {\n\n    if (this.shouldHandleInteraction && this.isMouseDown) {\n\n      const realPosition: IPoint = { x: event.pageX - this.renderSizing.offsetX, y: event.pageY - this.renderSizing.offsetY };\n      const oldPosition: IPoint = this.mouseTouchCoordinates || realPosition;\n\n      if (this.selectedObject !== null) {\n\n        const isInResizeBounds: boolean = this.selectedObject.isInResizeBounds(realPosition);\n\n        if (this.isResizing === null) {\n          this.setResizing(isInResizeBounds);\n        }\n\n        if (this.isResizing === true) {\n          this.selectedObject.resize(realPosition, oldPosition);\n        } else {\n          this.selectedObject.move(realPosition, oldPosition);\n        }\n\n        this.setMouseTouch(realPosition);\n      }\n    }\n  }\n\n  public handleMouseEnter(event: MouseEvent): void {\n\n    if (this.shouldHandleInteraction) {\n      this.setResizing(null);\n      this.setMouseDown(false);\n    }\n  }\n\n  public handleMouseLeave(event: MouseEvent): void {\n\n    if (this.shouldHandleInteraction) {\n      this.setResizing(null);\n      this.setMouseDown(false);\n    }\n  }\n\n  /* Rendering: */\n\n  @Bind\n  public render(): void {\n\n    if (this.shouldCleanupConext) {\n      this.clear();\n    }\n\n    if (this.shouldRender) {\n      this.renderItems();\n      window.requestAnimationFrame(this.render);\n    }\n  }\n\n  public clear(): void {\n    this.renderContext.clearRect(0, 0, this.renderSizing.width, this.renderSizing.height);\n  }\n\n  private renderItems(): void {\n\n    for (const object of this.renderObjects) {\n\n      object.setContext(this.renderContext);\n      object.setSizing(this.renderSizing);\n\n      if (!object.isDisabled()) {\n\n        object.renderSelf();\n\n        if (this.shouldHandleInteraction &&\n          object.isInteractive() && (object as CanvasGraphicsInteractiveObject).isSelected()) {\n          (object as CanvasGraphicsInteractiveObject).renderInteraction();\n        }\n      }\n    }\n  }\n\n}\n","export {AbstractRenderingService} from \"./AbstractRenderingService\";\nexport {RenderingService} from \"./RenderingService\";\n","export function generateUUID(placeholder?: number): string {\n  return placeholder\n    ? (placeholder ^ Math.random() * 16 >> placeholder / 4).toString(16)\n    : (\"\" + 1e7 + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, generateUUID as any);\n}\n","export enum EDeviceKind {\n  AUDIO_OUTPUT = \"audiooutput\",\n  AUDIO_INPUT = \"audioinput\",\n  VIDEO_INPUT = \"videoinput\",\n}\n","import {Single} from \"redux-cbd\";\n\nimport {Optional} from \"@Lib/ts/type\";\nimport {Logger} from \"@Lib/util/logger\";\n\nimport {EDeviceKind} from \"@Module/stream/data/services/local_media/EDeviceKind\";\nimport {IInputDevicesBundle} from \"@Module/stream/data/services/local_media/IInputDevicesBundle\";\n\n@Single\nexport class LocalMediaService {\n\n  public static readonly DEFAULT_VIDEO_CONSTRAINTS = {\n    advanced: [\n      { aspectRatio: { min: 1.7777, ideal: 1.7777, max: 1.7778 } }\n    ],\n    frameRate: { min: 27, ideal: 30, max: 60 },\n    height: { min: 720, ideal: 720, max: 1080 },\n  };\n\n  private log: Logger = new Logger(\"[🕳️LMS]\");\n\n  public async getDevices(): Promise<Array<MediaDeviceInfo>>  {\n    return await navigator.mediaDevices.enumerateDevices();\n  }\n\n  public async getAudioInputs(): Promise<Array<MediaDeviceInfo>> {\n    return (await this.getDevices()).filter((device: MediaDeviceInfo) => device.kind === EDeviceKind.AUDIO_INPUT);\n  }\n\n  public async getAudioOutputs(): Promise<Array<MediaDeviceInfo>> {\n    return (await this.getDevices()).filter((device: MediaDeviceInfo) => device.kind === EDeviceKind.AUDIO_OUTPUT);\n  }\n\n  public async getVideoInputs(): Promise<Array<MediaDeviceInfo>> {\n    return (await this.getDevices()).filter((device: MediaDeviceInfo) => device.kind === EDeviceKind.VIDEO_INPUT);\n  }\n\n  public async getInputDevicesBundled(): Promise<IInputDevicesBundle> {\n\n    const devices: Array<MediaDeviceInfo> = await this.getDevices();\n\n    return {\n      audio: devices.filter((device: MediaDeviceInfo) => device.kind === EDeviceKind.AUDIO_INPUT),\n      video: devices.filter((device: MediaDeviceInfo) => device.kind === EDeviceKind.VIDEO_INPUT)\n    };\n  }\n\n  public killStream(stream: Optional<MediaStream>): void {\n\n    if (stream === null) {\n      return;\n    }\n\n    if (typeof stream.getTracks === \"function\") {\n      stream.getTracks().forEach((track) => track.stop());\n      return;\n    }\n\n    if (typeof stream.getAudioTracks === \"function\" && typeof stream.getVideoTracks === \"function\") {\n      stream.getAudioTracks().forEach((track) => track.stop());\n      stream.getVideoTracks().forEach((track) => track.stop());\n      return;\n    }\n\n    if (typeof stream.stop === \"function\") {\n      stream.stop();\n    }\n  }\n\n  public async getUserMedia(videoInput: Optional<MediaDeviceInfo>, audioInput: Optional<MediaDeviceInfo>) {\n\n    const constraints = {\n      audio: { deviceId: audioInput ? {exact: audioInput.deviceId} : undefined },\n      video: {\n        ...LocalMediaService.DEFAULT_VIDEO_CONSTRAINTS,\n        deviceId: videoInput ? {exact: videoInput.deviceId} : undefined }\n    };\n\n    const stream: MediaStream = await navigator.mediaDevices.getUserMedia(constraints);\n\n    this.log.info(\"Got media stream from devices:\", constraints, stream);\n\n    return stream;\n  }\n\n}\n","import {LocalMediaService} from \"@Module/stream/data/services/local_media/LocalMediaService\";\n\nexport const localMediaService = new LocalMediaService();\n\nexport {LocalMediaService} from \"./LocalMediaService\";\n","import {SimpleCircle, SimpleRectangle} from \"@Module/stream/data/services/rendering/canvas_objects\";\nimport {ICanvasObjectDescriptor} from \"@Module/stream/data/services/rendering/ICanvasObjectDescriptor\";\n\nexport class RenderingService {\n\n  public static getRenderingDescriptors()/*: Array<ICanvasObjectDescriptor> */ {\n    return this.RENDER_DESCRIPTORS;\n  }\n\n  private static RENDER_DESCRIPTORS = [\n    {\n      description: \"Simple rectangle\",\n      name: \"Rectangle\",\n      prototype: SimpleRectangle.prototype\n    }, {\n      description: \"Simple circle\",\n      name: \"Circle\",\n      prototype: SimpleCircle.prototype\n    }\n  ];\n\n}\n","import {AbstractMovableCircleObject} from \"@Lib/react_lib/canvas_video_graphics\";\n\nexport class SimpleCircle extends AbstractMovableCircleObject {\n\n  public renderSelf(): void {\n\n    const context: CanvasRenderingContext2D = this.getContext();\n    const {width: pWidth, height: pHeight}: { width: number, height: number} = this.getPercentageBaseSizing();\n\n    context.strokeStyle = \"#ff0033\";\n    context.lineWidth = 3;\n\n    context.beginPath();\n    context.arc(this.center.x * pWidth, this.center.y * pHeight, this.radius * pWidth, 0, 2 * Math.PI);\n    context.stroke();\n  }\n\n}\n","import {AbstractMovableRectangleObject} from \"@Lib/react_lib/canvas_video_graphics\";\n\nexport class SimpleRectangle extends AbstractMovableRectangleObject {\n\n  public renderSelf(): void {\n\n    const context: CanvasRenderingContext2D = this.getContext();\n    const { width: pWidth, height: pHeight } = this.getPercentageBaseSizing();\n\n    context.strokeStyle = \"#ff6664\";\n    context.lineWidth = 3;\n\n    context.beginPath();\n    context.rect(this.left * pWidth, this.top * pHeight, this.width * pWidth, this.height * pHeight);\n    context.stroke();\n    context.closePath();\n  }\n\n}\n","export {SimpleCircle} from \"@Module/stream/data/services/rendering/canvas_objects/SimpleCircle\";\nexport {SimpleRectangle} from \"@Module/stream/data/services/rendering/canvas_objects/SimpleRectangle\";\n","export * from \"@Module/stream/data/services/rendering/canvas_objects\";\n\nexport {RenderingService} from \"@Module/stream/data/services/rendering/RenderingService\";\nexport {ICanvasObjectDescriptor} from \"@Module/stream/data/services/rendering/ICanvasObjectDescriptor\";\n","import * as React from \"react\";\nimport {Component} from \"react\";\nimport {Bind} from \"redux-cbd\";\n\nimport {\n  Avatar, Grid, IconButton, List, ListItem, ListItemAvatar, ListItemSecondaryAction, ListItemText\n} from \"@material-ui/core\";\n\nimport {Add, MoreVert} from \"@material-ui/icons\";\n\nimport {Styled} from \"@Lib/react_lib/@material_ui\";\n\nimport {ICanvasObjectDescriptor, RenderingService} from \"@Module/stream/data/services/rendering\";\n\nimport {ICanvasObjectAdditionState, ICanvasObjectsAdditionListProps} from \"./CanvasObjectsAdditionList.StateProps\";\nimport {canvasObjectsAdditionListStyle} from \"./CanvasObjectsAdditionList.Style\";\n\n@Styled(canvasObjectsAdditionListStyle)\nexport class CanvasObjectsAdditionList extends Component<ICanvasObjectsAdditionListProps, ICanvasObjectAdditionState> {\n\n  public render(): JSX.Element {\n\n    const {classes} = this.props;\n\n    return (\n      <Grid className={classes.root}>\n        <List>\n          {RenderingService.getRenderingDescriptors().map(this.renderCanvasItem)}\n        </List>\n      </Grid>\n    );\n  }\n\n  @Bind\n  private renderCanvasItem(descriptor: ICanvasObjectDescriptor<any>): JSX.Element {\n\n    const {classes, onObjectAdded} = this.props;\n\n    return (\n      <ListItem key={\"RI-\" + descriptor.prototype.constructor.name} className={classes.descriptionItem}>\n        <ListItemText primary={descriptor.name}/>\n        <ListItemSecondaryAction className={classes.descriptorItemSecondary}>\n          <IconButton aria-label=\"Add\" onClick={() => onObjectAdded(descriptor)}>\n            <Add/>\n          </IconButton>\n        </ListItemSecondaryAction>\n      </ListItem>\n    );\n  }\n\n}\n","import {createStyles, Theme} from \"@material-ui/core/styles\";\n\nexport const canvasObjectsAdditionListStyle = (theme: Theme) => createStyles({\n  descriptionItem: {\n  },\n  descriptorItemSecondary: {\n  },\n  root: {\n    backgroundColor: theme.palette.primary.light,\n    flexGrow: 1,\n    margin: `0 ${theme.spacing.unit * 4}px`,\n    minWidth: \"300px\"\n  }\n});\n","export {CanvasObjectsAdditionList} from \"./CanvasObjectsAdditionList.Component\";\nexport {ICanvasObjectsAdditionListProps, ICanvasObjectsAdditionListOwnProps, ICanvasObjectsAdditionListExternalProps} from \"./CanvasObjectsAdditionList.StateProps\";\n","import * as React from \"react\";\nimport {ChangeEvent, Component} from \"react\";\nimport {Bind} from \"redux-cbd\";\n\nimport {Styled} from \"@Lib/react_lib/@material_ui\";\n\nimport {FormControlLabel, FormLabel, Grid, Switch} from \"@material-ui/core\";\n\nimport {IPreviewConfigurationBlockProps} from \"./PreviewConfigurationBlock.StateProps\";\nimport {previewConfigurationBlockStyle} from \"./PreviewConfigurationBlock.Style\";\n\n@Styled(previewConfigurationBlockStyle)\nexport class PreviewConfigurationBlock extends Component<IPreviewConfigurationBlockProps> {\n\n  public render(): JSX.Element {\n\n    const {classes, showGrid, showPreview, showGraphics} = this.props;\n\n    return (\n      <Grid className={classes.root} direction={\"column\"} container>\n        <FormLabel component=\"legend\">Preview configuration</FormLabel>\n\n        <FormControlLabel\n          label={\"Preview mode\"}\n          control={<Switch checked={showPreview} onChange={this.onPreviewToggle}/>}\n        />\n\n        <FormControlLabel\n          label={\"Show graphics\"}\n          control={<Switch checked={showGraphics} onChange={this.onGraphicsToggle}/>}\n        />\n\n        <FormControlLabel\n          label={\"Show Grid\"}\n          control={<Switch checked={showGrid} onChange={this.onGridToggle}/>}\n        />\n\n      </Grid>\n    );\n  }\n\n  @Bind\n  private onPreviewToggle(event: ChangeEvent): void {\n    this.props.onPreviewToggle((event.target as any).checked);\n  }\n\n  @Bind\n  private onGraphicsToggle(event: ChangeEvent): void {\n    this.props.onGraphicsToggle((event.target as any).checked);\n  }\n\n  @Bind\n  private onGridToggle(event: ChangeEvent): void {\n    this.props.onGridToggle((event.target as any).checked);\n  }\n\n}\n","import {createStyles, Theme} from \"@material-ui/core/styles\";\n\nexport const previewConfigurationBlockStyle = (theme: Theme) => createStyles({\n  root: {\n    backgroundColor: theme.palette.primary.main,\n    border: \"2px black solid\",\n    padding: theme.spacing.unit + \"px\"\n  }\n});\n","export {PreviewConfigurationBlock} from \"./PreviewConfigurationBlock.Component\";\nexport {IPreviewConfigurationBlockProps, IPreviewConfigurationBlockOwnProps, IPreviewConfigurationBlockExternalProps} from \"./PreviewConfigurationBlock.StateProps\";\n","import * as React from \"react\";\nimport {Component} from \"react\";\n\nimport {Styled} from \"@Lib/react_lib/@material_ui\";\n\nimport {Button, Collapse, Grid, Tooltip} from \"@material-ui/core\";\nimport {Help} from \"@material-ui/icons\";\n\nimport {IStreamingHelpManagerProps} from \"./StreamingHelpManager.StateProps\";\nimport {streamingHelpManagerStyle} from \"./StreamingHelpManager.Style\";\n\n@Styled(streamingHelpManagerStyle)\nexport class StreamingHelpManager extends Component<IStreamingHelpManagerProps> {\n\n  public render(): JSX.Element {\n\n    const {classes, } = this.props;\n\n    return (\n      <Grid className={classes.root}>\n\n        <Tooltip title={\"Search for help.\"} placement={\"right\"}>\n          <Button className={classes.helpTooltip} variant={\"fab\"}>\n            <Help/>\n          </Button>\n        </Tooltip>\n\n        <Collapse in={false}>\n          <div>\n            HELP\n          </div>\n        </Collapse>\n\n      </Grid>\n    );\n  }\n\n}\n","import {createStyles, Theme} from \"@material-ui/core/styles\";\n\nexport const streamingHelpManagerStyle = (theme: Theme) => createStyles({\n  helpTooltip: {\n    height: theme.spacing.unit * 5,\n    margin: theme.spacing.unit * 2,\n    width: theme.spacing.unit * 5\n  },\n  root: {\n    left: 0,\n    position: \"absolute\",\n    top: theme.spacing.unit * 7\n  }\n});\n","export {StreamingHelpManager} from \"./StreamingHelpManager.Component\";\nexport {IStreamingHelpManagerProps, IStreamingHelpManagerOwnProps, IStreamingHelpManagerExternalProps} from \"./StreamingHelpManager.StateProps\";\n","import * as React from \"react\";\nimport {Component} from \"react\";\nimport {Bind} from \"redux-cbd\";\n\nimport {Styled} from \"@Lib/react_lib/@material_ui\";\n\nimport {localMediaService} from \"@Module/stream/data/services/local_media\";\nimport {StreamStoreConnect} from \"@Module/stream/data/store\";\nimport {UpdateInputStreamAndSourcesAction} from \"@Module/stream/data/store/source\";\nimport {IInputSourceDevices} from \"@Module/stream/data/store/source/models/IInputSourceDevices\";\n\nimport {Button, Divider, Grid, SwipeableDrawer, Tooltip, Typography} from \"@material-ui/core\";\nimport {MoreVert} from \"@material-ui/icons\";\n\nimport {IInputSourcesSelectFormExternalProps, InputSourcesSelectForm} from \"../InputSourcesSelectForm\";\n\nimport {\n  IInputSourcesDrawerManagerDispatchProps,\n  IInputSourcesDrawerManagerProps,\n  IInputSourcesDrawerManagerState,\n  IInputSourcesDrawerManagerStoreProps\n} from \"./InputSourcesDrawerManager.StateProps\";\nimport {inputSourcesDrawerManagerStyle} from \"./InputSourcesDrawerManager.Style\";\n\n@Styled(inputSourcesDrawerManagerStyle)\n@StreamStoreConnect<IInputSourcesDrawerManagerStoreProps, IInputSourcesDrawerManagerDispatchProps, IInputSourcesDrawerManagerProps> (\n  (state) => ({\n  }), {\n    onSourceStreamAndDevicesUpdate: (stream: MediaStream, devices: IInputSourceDevices) => new UpdateInputStreamAndSourcesAction({ stream, devices })\n  }\n)\nexport class InputSourcesDrawerManager extends Component<IInputSourcesDrawerManagerProps, IInputSourcesDrawerManagerState> {\n\n  public readonly state: IInputSourcesDrawerManagerState = {\n    showDrawer: false\n  };\n\n  public render(): JSX.Element {\n\n    const {classes} = this.props;\n    const {showDrawer} = this.state;\n\n    return (\n      <Grid className={classes.root}>\n\n        <Tooltip title={\"Configure source.\"} placement={\"right\"}>\n          <Button className={classes.configureSourceTooltip} variant={\"fab\"} onClick={this.onShowModal}>\n            <MoreVert/>\n          </Button>\n        </Tooltip>\n\n        <SwipeableDrawer\n          open={showDrawer}\n          onClose={this.onHideModal}\n          onOpen={this.onShowModal}\n        >\n\n          <Grid\n            className={classes.drawerMenu}\n            direction={\"column\"}\n            justify={\"center\"}\n            container\n          >\n\n            <Typography variant={\"h6\"} gutterBottom> Input Source </Typography>\n\n            <Divider/>\n\n            <InputSourcesSelectForm onInputSourcesChange={this.onSourcesUpdate}\n                                    {...{} as IInputSourcesSelectFormExternalProps}\n              />\n\n            <Divider/>\n\n          </Grid>\n\n        </SwipeableDrawer>\n\n      </Grid>\n    );\n  }\n\n  @Bind\n  private async onSourcesUpdate(devices: IInputSourceDevices): Promise<void> {\n\n    const stream: MediaStream = await localMediaService.getUserMedia(devices.videoInput, devices.audioInput);\n    this.props.onSourceStreamAndDevicesUpdate(stream, devices);\n  }\n\n  @Bind\n  private onShowModal(): void {\n    this.setState({ showDrawer: true });\n  }\n\n  @Bind\n  private onHideModal(): void {\n    this.setState({ showDrawer: false });\n  }\n\n}\n","import {createStyles, Theme} from \"@material-ui/core/styles\";\n\nexport const inputSourcesDrawerManagerStyle = (theme: Theme) => createStyles({\n  configureSourceTooltip: {\n    height: theme.spacing.unit * 5,\n    margin: theme.spacing.unit * 2,\n    width: theme.spacing.unit * 5,\n  },\n  drawerMenu: {\n    display: \"flex\",\n    padding: theme.spacing.unit * 2,\n    width: 350\n  },\n  root: {\n    alignSelf: \"flex-start\",\n    left: 0,\n    position: \"absolute\",\n    width: 0\n  }\n});\n","export {InputSourcesDrawerManager} from \"./InputSourcesDrawerManager.Component\";\nexport {IInputSourcesDrawerManagerOwnProps, IInputSourcesDrawerManagerExternalProps} from \"./InputSourcesDrawerManager.StateProps\";\n","import * as React from \"react\";\nimport {Component} from \"react\";\nimport {Bind} from \"redux-cbd\";\n\nimport {Styled} from \"@Lib/react_lib/@material_ui\";\nimport {Optional} from \"@Lib/ts/type\";\n\nimport {localMediaService} from \"@Module/stream/data/services/local_media\";\nimport {EDeviceKind} from \"@Module/stream/data/services/local_media/EDeviceKind\";\nimport {IInputDevicesBundle} from \"@Module/stream/data/services/local_media/IInputDevicesBundle\";\n\nimport {Button, FormControl, Grid, Input, InputLabel, MenuItem, Select} from \"@material-ui/core\";\nimport {Check, Refresh} from \"@material-ui/icons\";\n\nimport {VideoPreview} from \"@Module/stream/view/components/elements/video_rendering/VideoPreview\";\n\nimport {IInputSourcesSelectFormProps, IInputSourcesSelectFormState} from \"./InputSourcesSelectForm.StateProps\";\nimport {inputSourcesSelectFormStyle} from \"./InputSourcesSelectForm.Style\";\n\n@Styled(inputSourcesSelectFormStyle)\nexport class InputSourcesSelectForm extends Component<IInputSourcesSelectFormProps, IInputSourcesSelectFormState> {\n\n  public readonly state = {\n    previewStream: null,\n\n    selectedInputSources: {\n      audioInput: null as Optional<MediaDeviceInfo>,\n      videoInput: null as Optional<MediaDeviceInfo>\n    },\n\n    audioInputSources: [] as Array<MediaDeviceInfo>,\n    videoInputSources: [] as Array<MediaDeviceInfo>\n  };\n\n  public componentWillMount(): void {\n    this.onUpdateMediaDevices()\n      .then((inputSources: IInputDevicesBundle): void => {\n        this.updatePreviewStream(inputSources.video[0], inputSources.audio[0]);\n      });\n  }\n\n  public componentWillUnmount(): void {\n    localMediaService.killStream(this.state.previewStream);\n  }\n\n  public render(): JSX.Element {\n\n    const {classes} = this.props;\n    const {audioInputSources, videoInputSources, selectedInputSources, previewStream} = this.state;\n\n    return (\n      <Grid className={classes.root} alignItems={\"center\"} direction={\"column\"} container>\n\n        <VideoPreview className={classes.videoPreview} stream={previewStream}/>\n\n        {this.renderDevicesSelection(videoInputSources, selectedInputSources.videoInput, \"Video Input\")}\n        {this.renderDevicesSelection(audioInputSources, selectedInputSources.audioInput, \"Audio Input\")}\n\n        <Grid direction={\"row\"} container>\n          <Button className={classes.actionButton} onClick={this.onUpdateMediaDevices} variant={\"outlined\"}>\n            <Refresh color=\"primary\" style={{ fontSize: \"1.2rem\" }}/>\n          </Button>\n\n          <Button className={classes.actionButton} onClick={this.onChangesAccept} variant={\"outlined\"}>\n            <Check color=\"primary\" style={{ fontSize: \"1.2rem\" }}/>\n          </Button>\n        </Grid>\n\n      </Grid>\n    );\n  }\n\n  private renderDevicesSelection(devices: Array<MediaDeviceInfo>, selected: Optional<MediaDeviceInfo>,\n                                 label: string): JSX.Element {\n    return (\n      <FormControl className={this.props.classes.inputSelectForm}>\n        <InputLabel htmlFor=\"select-multiple\">{label}</InputLabel>\n        <Select\n          value={(selected && selected.deviceId) || -1}\n          onChange={(e) => this.handleDeviceSelection(devices.find((it) => it.deviceId === e.target.value))}\n          input={<Input/>}\n        >\n          {devices.map((device, idx) => (\n            <MenuItem\n              key={device.deviceId}\n              value={device.deviceId}\n            >\n              {device.label || device.kind + idx}\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n    );\n  }\n\n  @Bind\n  private async onUpdateMediaDevices(): Promise<IInputDevicesBundle> {\n\n    const inputSources: IInputDevicesBundle = await localMediaService.getInputDevicesBundled();\n    const {selectedInputSources: {videoInput, audioInput}} = this.state;\n\n    const newState = {\n      ...this.state,\n      audioInputSources: inputSources.audio,\n      videoInputSources: inputSources.video,\n    };\n\n    if (videoInput === null ||\n      !inputSources.video.find((videoDevice) => videoDevice.deviceId === videoInput.deviceId)) {\n      newState.selectedInputSources.videoInput = inputSources.video[0] || null;\n    }\n\n    if (audioInput === null ||\n      !inputSources.audio.find((audioDevice) => audioDevice.deviceId === audioInput.deviceId)) {\n      newState.selectedInputSources.audioInput = inputSources.audio[0] || null;\n    }\n\n    const {selectedInputSources} = newState;\n\n    if (this.shouldPreviewStreamUpdate(this.state, newState)) {\n      this.updatePreviewStream(selectedInputSources.videoInput, selectedInputSources.audioInput);\n    }\n\n    this.setState(newState);\n\n    return inputSources;\n  }\n\n  @Bind\n  private handleDeviceSelection(device: MediaDeviceInfo | undefined): void {\n\n    if (!device) {\n      return;\n    }\n\n    const newState = { ...this.state, selectedInputSources: { ...this.state.selectedInputSources } };\n\n    switch (device.kind) {\n\n      case EDeviceKind.AUDIO_INPUT:\n        newState.selectedInputSources.audioInput = device;\n        break;\n\n      case EDeviceKind.VIDEO_INPUT:\n        newState.selectedInputSources.videoInput = device;\n        break;\n\n    }\n\n    if (this.shouldPreviewStreamUpdate(this.state, newState)) {\n      this.updatePreviewStream(newState.selectedInputSources.videoInput, newState.selectedInputSources.audioInput);\n    }\n\n    this.setState(newState);\n  }\n\n  @Bind\n  private onChangesAccept(): void {\n    this.props.onInputSourcesChange(this.state.selectedInputSources);\n  }\n\n  private shouldPreviewStreamUpdate(oldState: IInputSourcesSelectFormState, newState: IInputSourcesSelectFormState): boolean {\n\n    const {selectedInputSources: oldSources} = oldState;\n    const {selectedInputSources: newSources} = newState;\n\n    return (oldSources.audioInput !== newSources.audioInput || oldSources.videoInput !== newSources.videoInput);\n  }\n\n  private async updatePreviewStream(videoDevice: Optional<MediaDeviceInfo>, audioDevice: Optional<MediaDeviceInfo>): Promise<void> {\n\n    const stream: MediaStream = await localMediaService.getUserMedia(videoDevice, audioDevice);\n\n    localMediaService.killStream(this.state.previewStream);\n\n    this.setState({\n      previewStream: stream,\n      selectedInputSources: {\n        audioInput: audioDevice,\n        videoInput: videoDevice\n      }\n    });\n  }\n\n}\n","import {createStyles, Theme} from \"@material-ui/core/styles\";\n\nexport const inputSourcesSelectFormStyle = (theme: Theme) => createStyles({\n  actionButton: {\n    flexGrow: 1,\n    margin: theme.spacing.unit\n  },\n  inputSelectForm: {\n    maxWidth: \"100%\",\n    padding: theme.spacing.unit,\n    width: \"100%\"\n  },\n  root: {\n    height: \"100%\",\n    justifyContent: \"center\",\n    overflow: \"auto\",\n    padding: theme.spacing.unit,\n    width: \"100%\"\n  },\n  videoPreview: {\n    backgroundColor: \"black\",\n    height: 180,\n    marginBottom: theme.spacing.unit * 3,\n    width: 300\n  }\n});\n","export {InputSourcesSelectForm} from \"./InputSourcesSelectForm.Component\";\nexport {IInputSourcesSelectFormProps, IInputSourcesSelectFormOwnProps, IInputSourcesSelectFormExternalProps} from \"./InputSourcesSelectForm.StateProps\";\n","import * as React from \"react\";\nimport {Fragment, PureComponent} from \"react\";\n\nimport {Styled} from \"@Lib/react_lib/@material_ui\";\nimport {CanvasGraphicsPreprocessor} from \"@Lib/react_lib/canvas_video_graphics\";\n\nimport {Grid} from \"@material-ui/core\";\n\nimport {\n  IStreamingHelpManagerExternalProps, StreamingHelpManager\n} from \"@Module/stream/view/components/elements/canvas_objects_management/StreamingHelpManager\";\nimport {\n  IInputSourcesDrawerManagerExternalProps, InputSourcesDrawerManager\n} from \"@Module/stream/view/components/elements/input_source/InputSourcesDrawerManager\";\nimport {\n  CanvasObjectAdditionManager, ICanvasObjectAdditionManagerExternalProps\n} from \"@Module/stream/view/containers/elements/CanvasObjectAdditionManager\";\n\nimport {IRenderedVideoPreviewProps} from \"./RenderedVideoPreview.StateProps\";\nimport {renderedVideoPreviewStyle} from \"./RenderedVideoPreview.Style\";\n\n@Styled(renderedVideoPreviewStyle)\nexport class RenderedVideoPreview extends PureComponent<IRenderedVideoPreviewProps> {\n\n  // todo: Return combined stream there ready for processing.\n\n  public render(): JSX.Element {\n\n    const {renderObjects, showPreview, showGraphics, showGrid, stream} = this.props;\n\n    return (\n      <Grid className={this.props.classes.root} justify={\"center\"} alignItems={\"center\"} container>\n\n        <CanvasGraphicsPreprocessor stream={stream}\n                                    renderingObjects={renderObjects}\n                                    showGrid={showGrid}\n                                    showGraphics={showGraphics}\n                                    showPreview={showPreview}\n                                    />\n\n        {this.renderHelperManagers()}\n\n      </Grid>\n    );\n  }\n\n  private renderHelperManagers(): JSX.Element {\n    return (\n      <Fragment>\n        <CanvasObjectAdditionManager {...{} as ICanvasObjectAdditionManagerExternalProps}/>\n        <InputSourcesDrawerManager {...{} as IInputSourcesDrawerManagerExternalProps}/>\n        <StreamingHelpManager {...{} as IStreamingHelpManagerExternalProps}/>\n      </Fragment>\n    );\n  }\n\n}\n","import {createStyles, Theme} from \"@material-ui/core\";\n\nexport const renderedVideoPreviewStyle = (theme: Theme) => createStyles({\n  root: {\n    boxSizing: \"border-box\",\n    flexBasis: \"20rem\",\n    flexGrow: 1,\n    height: \"100%\",\n    overflow: \"hidden\",\n    width: \"100%\",\n\n    \"& canvas\": {\n      background: `linear-gradient(to bottom, ${theme.palette.primary.light} 15%, ${theme.palette.primary.dark} 95%);`\n    }\n  }\n});\n","export {RenderedVideoPreview} from \"./RenderedVideoPreview.Component\";\nexport {IRenderedVideoPreviewOwnProps, IRenderedVideoPreviewExternalProps} from \"./RenderedVideoPreview.StateProps\";\n","import * as React from \"react\";\nimport {createRef, PureComponent, RefObject} from \"react\";\n\nimport {Optional} from \"@Lib/ts/type\";\n\nexport interface IVideoPreviewProps {\n  className?: string;\n  stream: Optional<MediaStream>;\n}\n\nexport class VideoPreview extends PureComponent<IVideoPreviewProps> {\n\n  private videoElementRef: RefObject<HTMLVideoElement> = createRef();\n\n  public componentWillMount(): void {\n    this.setVideoSource(this.props.stream);\n  }\n\n  public componentDidUpdate(prevProps: IVideoPreviewProps): void {\n\n    if (prevProps.stream !== this.props.stream) {\n      this.setVideoSource(this.props.stream);\n    }\n  }\n\n  public render(): JSX.Element {\n    return (\n      <video className={this.props.className} ref={this.videoElementRef} autoPlay/>\n    );\n  }\n\n  private setVideoSource(stream: Optional<MediaStream>): void {\n\n    const videoElement: Optional<HTMLVideoElement> = this.videoElementRef.current;\n\n    if (videoElement) {\n      videoElement.srcObject = null;\n      videoElement.srcObject = stream;\n    }\n  }\n\n}\n","export {VideoPreview, IVideoPreviewProps} from \"./VideoPreview\";\n","import * as React from \"react\";\nimport {Component, createRef, RefObject} from \"react\";\nimport {Bind} from \"redux-cbd\";\n\nimport {Button, Collapse, Tooltip} from \"@material-ui/core\";\nimport {Add, Remove} from \"@material-ui/icons\";\n\nimport {Styled} from \"@Lib/react_lib/@material_ui\";\nimport {log} from \"@Lib/util/logger\";\n\nimport {ICanvasObjectDescriptor} from \"@Module/stream/data/services/rendering\";\nimport {IStreamStoreState, StreamStoreConnect} from \"@Module/stream/data/store\";\nimport {AddGraphicsObjectAction} from \"@Module/stream/data/store/graphics\";\n\nimport {\n  CanvasObjectsAdditionList, ICanvasObjectsAdditionListExternalProps\n} from \"@Module/stream/view/components/elements/canvas_objects_management/CanvasObjectsAdditionList\";\n\nimport {\n  ICanvasObjectAdditionManagerDispatchProps,\n  ICanvasObjectAdditionManagerProps,\n  ICanvasObjectAdditionManagerState,\n  ICanvasObjectAdditionManagerStoreProps\n} from \"./CanvasObjectAdditionManager.StateProps\";\nimport {canvasObjectAdditionManagerStyle} from \"./CanvasObjectAdditionManager.Style\";\n\n@Styled(canvasObjectAdditionManagerStyle)\n@StreamStoreConnect<ICanvasObjectAdditionManagerStoreProps, ICanvasObjectAdditionManagerDispatchProps, ICanvasObjectAdditionManagerProps>(\n  (store: IStreamStoreState) => ({\n    inputStream: store.source.inputStream\n  }), {\n    onObjectAdded: (object: ICanvasObjectDescriptor<any>) => new AddGraphicsObjectAction({ object }),\n    onObjectChanged: (object: ICanvasObjectDescriptor<any>) => log.error(object),\n    onObjectRemoved: (object: ICanvasObjectDescriptor<any>) => log.error(object)\n  }\n)\nexport class CanvasObjectAdditionManager extends Component<ICanvasObjectAdditionManagerProps, ICanvasObjectAdditionManagerState> {\n\n  public readonly state: ICanvasObjectAdditionManagerState = {\n    showAdditionWindow: false\n  };\n\n  private readonly contentRef: RefObject<any> = createRef();\n\n  public componentDidMount(): void {\n    window.addEventListener(\"mousedown\", this.handleWindowClick);\n  }\n\n  public componentWillUnmount(): void {\n    window.removeEventListener(\"mousedown\", this.handleWindowClick);\n  }\n\n  public render(): JSX.Element {\n\n    const {classes, onObjectAdded, inputStream} = this.props;\n    const {showAdditionWindow} = this.state;\n\n    return (\n        <div className={showAdditionWindow ? classes.root : classes.rootEmpty} ref={this.contentRef}>\n\n          <Tooltip title={\"Add object.\"} placement={\"right\"}>\n            <Button className={classes.addObjectTooltip}\n                    disabled={inputStream === null}\n                    variant={\"fab\"}\n                    onClick={this.onToggleShowAdditionWindow}>\n              { showAdditionWindow ? <Remove/> : <Add/> }\n            </Button>\n          </Tooltip>\n\n          <Collapse in={showAdditionWindow}>\n           <CanvasObjectsAdditionList\n             onObjectAdded={onObjectAdded}\n             {...{} as ICanvasObjectsAdditionListExternalProps}\n           />\n          </Collapse>\n\n        </div>\n    );\n  }\n\n  @Bind\n  private handleWindowClick(event: MouseEvent): void {\n\n    const target: HTMLUListElement = this.contentRef.current && this.contentRef.current.querySelector(\"ul\");\n    const isAnotherComponentClicked: boolean = (target && !target.contains(event.target as Node));\n\n    if (this.state.showAdditionWindow === true && isAnotherComponentClicked === true) {\n      this.setState({ showAdditionWindow: false });\n    }\n  }\n\n  @Bind\n  private onObjectAdded(): void {\n    this.props.onObjectAdded(\"\" as any);\n  }\n\n  @Bind\n  private onObjectRemoved(): void {\n    this.props.onObjectRemoved(\"\" as any);\n  }\n\n  @Bind\n  private onObjectChanged(): void {\n    this.props.onObjectChanged(\"\" as any);\n  }\n\n  @Bind\n  private onToggleShowAdditionWindow(event: React.MouseEvent<any>): void {\n    event.stopPropagation();\n    this.setState({ showAdditionWindow: !this.state.showAdditionWindow });\n  }\n\n}\n","import {createStyles, Theme} from \"@material-ui/core/styles\";\n\nexport const canvasObjectAdditionManagerStyle = (theme: Theme) => createStyles({\n  addObjectTooltip: {\n    height: theme.spacing.unit * 5,\n    margin: theme.spacing.unit * 2,\n    width: theme.spacing.unit * 5,\n  },\n  root: {\n    alignSelf: \"flex-start\",\n    left: 0,\n    position: \"absolute\",\n    top: theme.spacing.unit * 13\n  },\n  rootEmpty: {\n    alignSelf: \"flex-start\",\n    left: 0,\n    position: \"absolute\",\n    top: theme.spacing.unit * 13,\n    width: 0\n  }\n});\n","export {CanvasObjectAdditionManager} from \"./CanvasObjectAdditionManager.Component\";\nexport {ICanvasObjectAdditionManagerProps, ICanvasObjectAdditionManagerOwnProps, ICanvasObjectAdditionManagerExternalProps} from \"./CanvasObjectAdditionManager.StateProps\";\n","import * as React from \"react\";\nimport {ChangeEvent, Component} from \"react\";\nimport {Bind} from \"redux-cbd\";\n\nimport {Styled} from \"@Lib/react_lib/@material_ui\";\n\nimport {localMediaService} from \"@Module/stream/data/services/local_media\";\nimport {IStreamStoreState, StreamStoreConnect} from \"@Module/stream/data/store\";\nimport {SetGraphicsDisplayAction, SetGridDisplayAction, SetPreviewModeAction} from \"@Module/stream/data/store/graphics\";\nimport {UpdateInputStreamAndSourcesAction} from \"@Module/stream/data/store/source\";\nimport {IInputSourceDevices} from \"@Module/stream/data/store/source/models/IInputSourceDevices\";\n\nimport {AppBar, Grid, Tab, Tabs} from \"@material-ui/core\";\n\nimport {\n  HeaderBar, IHeaderBarExternalProps\n} from \"@Main/view/containers/elements/HeaderBar\";\nimport {\n  IPreviewConfigurationBlockExternalProps, PreviewConfigurationBlock\n} from \"@Module/stream/view/components/elements/canvas_objects_management/PreviewConfigurationBlock\";\nimport {\n  IRenderedVideoPreviewExternalProps, RenderedVideoPreview\n} from \"@Module/stream/view/components/elements/video_rendering/RenderedVideoPreview\";\n\nimport {\n  IStreamConfigurationPageDispatchProps, IStreamConfigurationPageProps, IStreamConfigurationPageState,\n  IStreamConfigurationPageStoreProps\n} from \"./StreamConfigurationPage.StateProps\";\nimport {streamConfigurationPageStyle} from \"./StreamConfigurationPage.Style\";\n\n@StreamStoreConnect<IStreamConfigurationPageStoreProps, IStreamConfigurationPageDispatchProps, IStreamConfigurationPageProps>(\n  (store: IStreamStoreState) => ({\n    inputStream: store.source.inputStream,\n    selectedDevices: store.source.selectedDevices,\n\n    renderObjects: store.graphics.objects,\n    showGraphics: store.graphics.showGraphics,\n    showGrid: store.graphics.showGrid,\n    showPreview: store.graphics.showPreview,\n  }), {\n    setGraphicsDisplay: (show: boolean) => new SetGraphicsDisplayAction({ show }),\n    setGridDisplay: (show: boolean) => new SetGridDisplayAction({ show }),\n    setPreviewMode: (show: boolean) => new SetPreviewModeAction({ show }),\n    updateStreamAndSources: (stream: MediaStream, devices: IInputSourceDevices) => new UpdateInputStreamAndSourcesAction({ stream, devices })\n  })\n@Styled(streamConfigurationPageStyle)\nexport class StreamConfigurationPage extends Component<IStreamConfigurationPageProps, IStreamConfigurationPageState> {\n\n  public readonly state: IStreamConfigurationPageState = {\n    currentTab: 0\n  };\n\n  public componentWillMount(): void {\n   this.setDefaultVideo();\n  }\n\n  public render(): JSX.Element {\n\n    const {classes, renderObjects, showPreview, showGraphics, showGrid, inputStream} = this.props;\n\n    return (\n      <Grid className={classes.root} direction={\"column\"} wrap={\"nowrap\"} container>\n\n        <HeaderBar {...{} as IHeaderBarExternalProps}/>\n\n        <Grid className={classes.content} container>\n\n          <Grid className={classes.streamingVideoSection} direction={\"row\"} container>\n\n            <Grid className={classes.streamingVideo} item>\n              <RenderedVideoPreview stream={inputStream}\n                                    renderObjects={renderObjects}\n                                    showGrid={showGrid}\n                                    showGraphics={showGraphics}\n                                    showPreview={showPreview}\n                                    {...{} as IRenderedVideoPreviewExternalProps}/>\n            </Grid>\n\n            <Grid className={classes.configSidebar} item>\n              <PreviewConfigurationBlock\n                showGrid={showGrid}\n                showGraphics={showGraphics}\n                showPreview={showPreview}\n                onPreviewToggle={this.onTogglePreviewMode}\n                onGraphicsToggle={this.onToggleGraphics}\n                onGridToggle={this.onToggleGridDisplay}\n                {...{} as IPreviewConfigurationBlockExternalProps}/>\n            </Grid>\n\n          </Grid>\n\n          <Grid className={classes.under}>\n\n            {this.renderTabs()}\n\n          </Grid>\n\n        </Grid>\n\n      </Grid>\n    );\n  }\n\n  // Todo:\n  private renderTabs(): JSX.Element {\n    return (\n      <AppBar position=\"relative\" color=\"default\">\n      <Tabs\n        value={this.state.currentTab}\n        onChange={this.onTabChange}\n        scrollButtons=\"on\"\n        indicatorColor=\"primary\"\n        textColor=\"primary\"\n      >\n        <Tab label=\"Graphics\"/>\n        <Tab label=\"Something else...\"/>\n        <Tab label=\"Something else...\"/>\n      </Tabs>\n      </AppBar>\n    );\n  }\n\n  private async setDefaultVideo(): Promise<void> {\n\n    const {selectedDevices, updateStreamAndSources} = this.props;\n    const stream: MediaStream = await localMediaService.getUserMedia(selectedDevices.videoInput, selectedDevices.audioInput);\n\n    updateStreamAndSources(stream, selectedDevices);\n  }\n\n  @Bind\n  private onTabChange(event: ChangeEvent<any>, tabNumber: any): void {\n    this.setState({ currentTab: +tabNumber });\n  }\n\n  @Bind\n  private onToggleGridDisplay(show: boolean): void {\n    this.props.setGridDisplay(show);\n  }\n\n  @Bind\n  private onToggleGraphics(show: boolean): void {\n    this.props.setGraphicsDisplay(show);\n  }\n\n  @Bind\n  private onTogglePreviewMode(show: boolean): void {\n    this.props.setPreviewMode(show);\n  }\n\n}\n","import {createStyles, Theme} from \"@material-ui/core\";\n\nexport const streamConfigurationPageStyle = (theme: Theme) => createStyles({\n  configSidebar: {\n    backgroundColor: theme.palette.secondary.light,\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n    minWidth: 250,\n    padding: theme.spacing.unit\n  },\n  content: {\n    flexDirection: \"column\",\n    flexGrow: 75,\n    flexWrap: \"nowrap\",\n    overflow: \"auto\",\n    width: \"100%\"\n  },\n  root: {\n    width: \"100%\"\n  },\n  streamingVideo: {\n    \"@media (max-width: 1225px)\": {\n      width: \"100%\",\n    },\n    \"@media (min-width: 1225px)\": {\n      width: \"75%\",\n    },\n    backgroundColor: theme.palette.secondary.light,\n    display: \"flex\",\n    flexDirection: \"column\",\n    minHeight: 350,\n    minWidth: \"75%\",\n    padding: theme.spacing.unit,\n    position: \"relative\"\n  },\n  streamingVideoSection: {\n    justifyContent: \"center\",\n    minHeight: 600,\n    overflow: \"auto\",\n    width: \"100%\"\n  },\n  under: {\n    backgroundColor: theme.palette.secondary.light,\n    flexGrow: 1,\n    minHeight: 200\n  }\n});\n","export {StreamConfigurationPage} from \"./StreamConfigurationPage.Component\";\nexport {\n  IStreamConfigurationPageOwnProps, IStreamConfigurationPageExternalProps\n} from \"./StreamConfigurationPage.StateProps\";\n"],"sourceRoot":""}