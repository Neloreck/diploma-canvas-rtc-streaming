(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{5983:function(e,t,i){"use strict";i.r(t);var n,s=i(2),r=i(48),o=i(5955),a=i(725);!function(e){e.AUDIO_OUTPUT="audiooutput",e.AUDIO_INPUT="audioinput",e.VIDEO_INPUT="videoinput"}(n||(n={}));var c,d=function(e,t,i,n){var s,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,i,o):s(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o};let h=c=class{constructor(){this.log=new a.a("[🕳️LMS]")}async getDevices(){return await navigator.mediaDevices.enumerateDevices()}async getAudioInputs(){return(await this.getDevices()).filter(e=>e.kind===n.AUDIO_INPUT)}async getAudioOutputs(){return(await this.getDevices()).filter(e=>e.kind===n.AUDIO_OUTPUT)}async getVideoInputs(){return(await this.getDevices()).filter(e=>e.kind===n.VIDEO_INPUT)}async getInputDevicesBundled(){const e=await this.getDevices();return{audio:e.filter(e=>e.kind===n.AUDIO_INPUT),video:e.filter(e=>e.kind===n.VIDEO_INPUT)}}killStream(e){if(null!==e){if("function"!=typeof e.getTracks)return"function"==typeof e.getAudioTracks&&"function"==typeof e.getVideoTracks?(e.getAudioTracks().forEach(e=>e.stop()),void e.getVideoTracks().forEach(e=>e.stop())):void("function"==typeof e.stop&&e.stop());e.getTracks().forEach(e=>e.stop())}}async getUserMedia(e,t){const i={audio:{deviceId:t?{exact:t.deviceId}:void 0},video:{...c.DEFAULT_VIDEO_CONSTRAINTS,deviceId:e?{exact:e.deviceId}:void 0}},n=await navigator.mediaDevices.getUserMedia(i);return this.log.info("Got media stream from devices:",i,n),n}};h.DEFAULT_VIDEO_CONSTRAINTS={advanced:[{aspectRatio:{min:1.7777,ideal:1.7777,max:1.7778}}],frameRate:{min:27,ideal:30,max:60},height:{min:720,ideal:720,max:1080}};const l=new(h=c=d([Object(r.Single)()],h));var p=i(730),u=i(5981),g=i(5979),f=i(5980),m=i(5982),y=i(93),b=i(5962),v=i(45);var w=function(e,t,i,n){var s,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,i,o):s(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},R=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let S=class extends s.Component{render(){const{classes:e,showGrid:t,showPreview:i,showGraphics:n}=this.props;return s.createElement(y.j,{className:e.root,direction:"column",container:!0},s.createElement(y.i,{component:"legend"},"Preview configuration"),s.createElement(y.h,{label:"Preview mode",control:s.createElement(y.v,{checked:i,onChange:this.onPreviewToggle})}),s.createElement(y.h,{label:"Show graphics",control:s.createElement(y.v,{checked:n,onChange:this.onGraphicsToggle})}),s.createElement(y.h,{label:"Show Grid",control:s.createElement(y.v,{checked:t,onChange:this.onGridToggle})}))}onPreviewToggle(e){this.props.onPreviewToggle(e.target.checked)}onGraphicsToggle(e){this.props.onGraphicsToggle(e.target.checked)}onGridToggle(e){this.props.onGridToggle(e.target.checked)}};w([r.Bind,R("design:type",Function),R("design:paramtypes",[Object]),R("design:returntype",void 0)],S.prototype,"onPreviewToggle",null),w([r.Bind,R("design:type",Function),R("design:paramtypes",[Object]),R("design:returntype",void 0)],S.prototype,"onGraphicsToggle",null),w([r.Bind,R("design:type",Function),R("design:paramtypes",[Object]),R("design:returntype",void 0)],S.prototype,"onGridToggle",null),S=w([Object(o.a)(e=>Object(v.createStyles)({root:{backgroundColor:e.palette.primary.main,border:"2px black solid",padding:e.spacing.unit+"px"}}))],S);var x=i(5956),P=i.n(x);function O(e){return e?(e^16*Math.random()>>e/4).toString(16):(""+1e7+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,O)}class C{constructor(){this.createdAt=Date.now(),this.id="0",this.disabled=!1,this.context=null,this.sizing=null,this.id=O()}setId(e){this.id=e}getId(){return this.id}setContext(e){this.context=e}setSizing(e){this.sizing=e}getContext(){return this.context}getSizing(){return this.sizing}setDisabled(e){this.disabled=e}isDisabled(){return this.disabled}isMovable(){return!1}isResizable(){return!1}isInteractive(){return!1}getPercentageWidth(e){return this.sizing.width*e/100}getPercentageHeight(e){return this.sizing.height*e/100}asPercentageWidth(e){return 100*e/this.sizing.width}asPercentageHeight(e){return 100*e/this.sizing.height}getPercentageBaseSizing(){return{width:this.sizing.width/100,height:this.sizing.height/100}}}class I extends C{constructor(e){super(),this.shadow=e}renderSelf(){this.getContext().drawImage(this.shadow,0,0)}}class j{}var z=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class E extends j{constructor(){super(...arguments),this.shouldRender=!1,this.shouldHandleInteraction=!1,this.shouldCleanupConext=!0,this.renderContext=null,this.renderObjects=[],this.renderSizing={width:160,height:90,offsetX:0,offsetY:0},this.isMouseDown=!1,this.isResizing=null,this.mouseTouchCoordinates={x:0,y:0},this.selectedObject=null}setMouseDown(e,t=null){this.isMouseDown=e,this.mouseTouchCoordinates=t}setMouseTouch(e){this.mouseTouchCoordinates=e}setSizing(e){this.renderSizing=e}setResizing(e){this.isResizing=e}setRenderContext(e){this.renderContext=e}setRenderObjects(e){this.renderObjects=e}enableRendering(){this.shouldRender=!0}disableRendering(){this.shouldRender=!1}enableInteraction(){this.shouldHandleInteraction=!0}disableInteraction(){this.shouldHandleInteraction=!1}disableContextCleanup(){this.shouldCleanupConext=!1}handleMouseDown(e){if(this.shouldHandleInteraction){this.setMouseDown(!0,{x:e.pageX-this.renderSizing.offsetX,y:e.pageY-this.renderSizing.offsetY}),this.selectedObject=null,this.renderObjects.forEach(e=>{e.isInteractive()&&e.setSelected(!1)});for(let t=this.renderObjects.length-1;t>=0;t--){const i=this.renderObjects[t];if(i.isMovable()){const t=i;if(t.isInBounds({x:e.pageX-this.renderSizing.offsetX,y:e.pageY-this.renderSizing.offsetY})){t.setSelected(!0),this.selectedObject=t;break}}}}}handleMouseUp(e){this.shouldHandleInteraction&&(this.setResizing(null),this.setMouseDown(!1))}handleMouseMove(e){if(this.shouldHandleInteraction&&this.isMouseDown){const t={x:e.pageX-this.renderSizing.offsetX,y:e.pageY-this.renderSizing.offsetY},i=this.mouseTouchCoordinates||t;if(null!==this.selectedObject){const e=this.selectedObject.isInResizeBounds(t);null===this.isResizing&&this.setResizing(e),!0===this.isResizing?this.selectedObject.resize(t,i):this.selectedObject.move(t,i),this.setMouseTouch(t)}}}handleMouseEnter(e){this.shouldHandleInteraction&&(this.setResizing(null),this.setMouseDown(!1))}handleMouseLeave(e){this.shouldHandleInteraction&&(this.setResizing(null),this.setMouseDown(!1))}render(){this.shouldCleanupConext&&this.clear(),this.shouldRender&&(this.renderItems(),window.requestAnimationFrame(this.render))}clear(){this.renderContext.clearRect(0,0,this.renderSizing.width,this.renderSizing.height)}renderItems(){for(const e of this.renderObjects)e.setContext(this.renderContext),e.setSizing(this.renderSizing),e.isDisabled()||(e.renderSelf(),this.shouldHandleInteraction&&e.isInteractive()&&e.isSelected()&&e.renderInteraction())}}(function(e,t,i,n){var s,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,i,o):s(t,i))||o);r>3&&o&&Object.defineProperty(t,i,o)})([r.Bind,z("design:type",Function),z("design:paramtypes",[]),z("design:returntype",void 0)],E.prototype,"render",null);var T=function(e,t,i,n){var s,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,i,o):s(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},M=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class L extends s.PureComponent{constructor(){super(...arguments),this.internalPreRendererCanvas=Object(s.createRef)(),this.externalPreRendererCanvas=Object(s.createRef)(),this.composedRendererCanvas=Object(s.createRef)(),this.internalRenderingService=new E,this.externalRenderingService=new E,this.composedRenderingService=new E}componentWillMount(){this.internalRenderingService.enableRendering(),this.externalRenderingService.enableRendering(),this.composedRenderingService.enableRendering()}componentDidMount(){const e=this.getInternalPreRenderer(),t=this.getExternalPreRenderer(),i=this.getComposedRenderer();this.internalRenderingService.setRenderContext(e.getContext("2d")),this.externalRenderingService.setRenderContext(t.getContext("2d")),this.composedRenderingService.setRenderContext(i.getContext("2d")),this.internalRenderingService.setRenderObjects(this.props.internalRenderingItems),this.externalRenderingService.setRenderObjects(this.props.externalRenderingItems),this.composedRenderingService.setRenderObjects([new I(t),new I(e)]),this.props.previewMode?this.internalRenderingService.disableInteraction():this.internalRenderingService.enableInteraction(),this.externalRenderingService.disableInteraction(),this.externalRenderingService.disableContextCleanup(),this.internalRenderingService.render(),this.externalRenderingService.render(),this.composedRenderingService.render()}componentDidUpdate(){this.props.previewMode?this.internalRenderingService.disableInteraction():this.internalRenderingService.enableInteraction(),this.internalRenderingService.setRenderObjects(this.props.internalRenderingItems),this.externalRenderingService.setRenderObjects(this.props.externalRenderingItems)}componentWillUnmount(){this.internalRenderingService.disableRendering(),this.externalRenderingService.disableRendering(),this.composedRenderingService.disableRendering()}getInternalStream(){return this.getInternalPreRenderer().captureStream()}getExternalStream(){return this.getExternalPreRenderer().captureStream()}getComposedStream(){return this.getComposedRenderer().captureStream()}render(){return s.createElement(s.Fragment,null,s.createElement("div",{className:"canvas-renderer-layout",onMouseMove:this.handleLayoutMouseMove,onMouseEnter:this.handleLayoutMouseEnter,onMouseLeave:this.handleLayoutMouseLeave,onMouseDown:this.handleLayoutMouseDown,onMouseUp:this.handleLayoutMouseUp},s.createElement("canvas",{ref:this.internalPreRendererCanvas,className:"canvas-prerenderer-internal",hidden:!0}),s.createElement("canvas",{ref:this.externalPreRendererCanvas,className:"canvas-prerenderer-external",hidden:!0}),s.createElement("canvas",{ref:this.composedRendererCanvas,className:"canvas-renderer-composed"})),s.createElement(P.a,{onResize:(e,t)=>this.reCalculateSizing(e,t),refreshMode:"throttle",refreshRate:500,handleHeight:!0,handleWidth:!0}))}getInternalPreRenderer(){return this.internalPreRendererCanvas.current}getExternalPreRenderer(){return this.externalPreRendererCanvas.current}getComposedRenderer(){return this.composedRendererCanvas.current}handleLayoutMouseDown(e){this.internalRenderingService.handleMouseDown(e)}handleLayoutMouseUp(e){this.internalRenderingService.handleMouseUp(e)}handleLayoutMouseMove(e){this.internalRenderingService.handleMouseMove(e)}handleLayoutMouseEnter(e){this.internalRenderingService.handleMouseEnter(e)}handleLayoutMouseLeave(e){this.internalRenderingService.handleMouseLeave(e)}reCalculateSizing(e,t){let i=0,n=0;const s=L.DEFAULT_ASPECT_RATIO,r=e/s;r<=t?(n=r,i=e):(n=t,i=t*s),this.resize(Math.floor(i),Math.floor(n))}resize(e,t){const i=this.getInternalPreRenderer(),n=this.getExternalPreRenderer(),s=this.getComposedRenderer();i.width=e,i.height=t,n.width=e,n.height=t,s.width=e,s.height=t;const r=s.getBoundingClientRect(),o={height:t,offsetX:r.left,offsetY:r.top,width:e};this.internalRenderingService.setSizing(o),this.externalRenderingService.setSizing(o),this.composedRenderingService.setSizing(o)}}L.DEFAULT_ASPECT_RATIO=16/9,T([r.Bind,M("design:type",Function),M("design:paramtypes",[Object]),M("design:returntype",void 0)],L.prototype,"handleLayoutMouseDown",null),T([r.Bind,M("design:type",Function),M("design:paramtypes",[Object]),M("design:returntype",void 0)],L.prototype,"handleLayoutMouseUp",null),T([r.Bind,M("design:type",Function),M("design:paramtypes",[Object]),M("design:returntype",void 0)],L.prototype,"handleLayoutMouseMove",null),T([r.Bind,M("design:type",Function),M("design:paramtypes",[Object]),M("design:returntype",void 0)],L.prototype,"handleLayoutMouseEnter",null),T([r.Bind,M("design:type",Function),M("design:paramtypes",[Object]),M("design:returntype",void 0)],L.prototype,"handleLayoutMouseLeave",null);class D extends C{constructor(e){super(),this.isVideoRendering=!1,this.mediaStream=new MediaStream,this.hiddenVideoRenderer=document.createElement("video"),this.mediaStream=e,this.hiddenVideoRenderer.srcObject=e,this.startVideo().then()}renderSelf(){const e=this.getContext(),t=this.getSizing();this.hiddenVideoRenderer.width=t.width,this.hiddenVideoRenderer.height=t.height,e.drawImage(this.hiddenVideoRenderer,0,0,t.width,t.height)}async startVideo(){!1===this.isVideoRendering&&(await this.hiddenVideoRenderer.play(),this.isVideoRendering=!0)}}class B extends C{constructor(e=1,t=1){super(),this.lineWidth=3,this.verticalLinesCount=1,this.horizontalLinesCount=1,this.verticalLinesCount=e,this.horizontalLinesCount=t}renderSelf(){const e=this.getContext(),{width:t,height:i}=this.getSizing(),n=t-1,s=i-1;e.lineWidth=this.lineWidth,e.strokeStyle="#1a09ff";for(let e=1;e<=t;e+=Math.floor(n/(this.verticalLinesCount+1)))this.renderLine(e,0,e,i);for(let e=1;e<=i;e+=Math.floor(s/(this.horizontalLinesCount+1)))this.renderLine(1,e,t,e)}renderLine(e,t,i,n){const s=this.getContext();s.beginPath(),s.moveTo(e,t),s.lineTo(i,n),s.stroke(),s.closePath()}}class k extends C{constructor(e,t,i="#000"){super(),this.increment=0,this.text="textLabel",this.textSize=24,this.textColor="#000",this.text=e,this.textSize=t,this.textColor=i}renderSelf(){this.renderTextLabel()}renderTextLabel(){const e=this.getContext();let t=this.text;const i=this.getPercentageBaseSizing(),n=i.width*this.textSize,s=n*t.length/4;e.strokeStyle="#FF0000",e.fillStyle="#FFF",e.font=`${n}px Comic Sans MS`,e.textBaseline="middle",this.increment>40&&this.increment<80?t+=".":this.increment>=80&&(t+=".."),this.increment++,this.increment=this.increment%120,e.fillText(t,Math.floor(50*i.width-s),Math.floor(50*i.height))}}class A extends s.PureComponent{render(){return s.createElement(L,{previewMode:this.props.showPreview,externalRenderingItems:this.getOutputRenderingObjectsContext(),internalRenderingItems:this.getPreviewRenderingObjectsContext()})}getPreviewRenderingObjectsContext(){const e=[];return!1===this.props.showGraphics?e:(!0===this.props.showGrid&&!1===this.props.showPreview&&e.push(new B(1,1)),e.concat(this.props.renderingObjects))}getOutputRenderingObjectsContext(){if(null===this.props.stream)return[new k("Waiting for input stream.",7,"#FFF")];if(0===this.props.stream.getVideoTracks().length)return[new k("Waiting for video.",7,"#FFF")];const e=[new D(this.props.stream)];return!0===this.props.showGraphics?e.concat(this.props.renderingObjects):e}}var W=i(729);let U=class extends s.Component{render(){const{classes:e}=this.props;return s.createElement(y.j,{className:e.root},s.createElement(y.A,{title:"Search for help.",placement:"right"},s.createElement(y.b,{className:e.helpTooltip,variant:"fab"},s.createElement(W.c,null))),s.createElement(y.e,{in:!1},s.createElement("div",null,"HELP")))}};U=function(e,t,i,n){var s,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,i,o):s(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o}([Object(o.a)(e=>Object(v.createStyles)({helpTooltip:{height:5*e.spacing.unit,margin:2*e.spacing.unit,width:5*e.spacing.unit},root:{left:0,position:"absolute",top:7*e.spacing.unit}}))],U);class G extends s.PureComponent{constructor(){super(...arguments),this.videoElementRef=Object(s.createRef)()}componentWillMount(){this.setVideoSource(this.props.stream)}componentDidUpdate(e){e.stream!==this.props.stream&&this.setVideoSource(this.props.stream)}render(){return s.createElement("video",{className:this.props.className,ref:this.videoElementRef,autoPlay:!0})}setVideoSource(e){const t=this.videoElementRef.current;t&&(t.srcObject=null,t.srcObject=e)}}var F=function(e,t,i,n){var s,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,i,o):s(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},N=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let H=class extends s.Component{constructor(){super(...arguments),this.state={previewStream:null,selectedInputSources:{audioInput:null,videoInput:null},audioInputSources:[],videoInputSources:[]}}componentWillMount(){this.onUpdateMediaDevices().then(e=>{this.updatePreviewStream(e.video[0],e.audio[0])})}componentWillUnmount(){l.killStream(this.state.previewStream)}render(){const{classes:e}=this.props,{audioInputSources:t,videoInputSources:i,selectedInputSources:n,previewStream:r}=this.state;return s.createElement(y.j,{className:e.root,alignItems:"center",direction:"column",container:!0},s.createElement(G,{className:e.videoPreview,stream:r}),this.renderDevicesSelection(i,n.videoInput,"Video Input"),this.renderDevicesSelection(t,n.audioInput,"Audio Input"),s.createElement(y.j,{direction:"row",container:!0},s.createElement(y.b,{className:e.actionButton,onClick:this.onUpdateMediaDevices,variant:"outlined"},s.createElement(W.e,{color:"primary",style:{fontSize:"1.2rem"}})),s.createElement(y.b,{className:e.actionButton,onClick:this.onChangesAccept,variant:"outlined"},s.createElement(W.b,{color:"primary",style:{fontSize:"1.2rem"}}))))}renderDevicesSelection(e,t,i){return s.createElement(y.g,{className:this.props.classes.inputSelectForm},s.createElement(y.m,{htmlFor:"select-multiple"},i),s.createElement(y.t,{value:t&&t.deviceId||-1,onChange:t=>this.handleDeviceSelection(e.find(e=>e.deviceId===t.target.value)),input:s.createElement(y.l,null)},e.map((e,t)=>s.createElement(y.s,{key:e.deviceId,value:e.deviceId},e.label||e.kind+t))))}async onUpdateMediaDevices(){const e=await l.getInputDevicesBundled(),{selectedInputSources:{videoInput:t,audioInput:i}}=this.state,n={...this.state,audioInputSources:e.audio,videoInputSources:e.video};null!==t&&e.video.find(e=>e.deviceId===t.deviceId)||(n.selectedInputSources.videoInput=e.video[0]||null),null!==i&&e.audio.find(e=>e.deviceId===i.deviceId)||(n.selectedInputSources.audioInput=e.audio[0]||null);const{selectedInputSources:s}=n;return this.shouldPreviewStreamUpdate(this.state,n)&&this.updatePreviewStream(s.videoInput,s.audioInput),this.setState(n),e}handleDeviceSelection(e){if(!e)return;const t={...this.state,selectedInputSources:{...this.state.selectedInputSources}};switch(e.kind){case n.AUDIO_INPUT:t.selectedInputSources.audioInput=e;break;case n.VIDEO_INPUT:t.selectedInputSources.videoInput=e}this.shouldPreviewStreamUpdate(this.state,t)&&this.updatePreviewStream(t.selectedInputSources.videoInput,t.selectedInputSources.audioInput),this.setState(t)}onChangesAccept(){this.props.onInputSourcesChange(this.state.selectedInputSources)}shouldPreviewStreamUpdate(e,t){const{selectedInputSources:i}=e,{selectedInputSources:n}=t;return i.audioInput!==n.audioInput||i.videoInput!==n.videoInput}async updatePreviewStream(e,t){const i=await l.getUserMedia(e,t);l.killStream(this.state.previewStream),this.setState({previewStream:i,selectedInputSources:{audioInput:t,videoInput:e}})}};F([r.Bind,N("design:type",Function),N("design:paramtypes",[]),N("design:returntype",Promise)],H.prototype,"onUpdateMediaDevices",null),F([r.Bind,N("design:type",Function),N("design:paramtypes",[Object]),N("design:returntype",void 0)],H.prototype,"handleDeviceSelection",null),F([r.Bind,N("design:type",Function),N("design:paramtypes",[]),N("design:returntype",void 0)],H.prototype,"onChangesAccept",null),H=F([Object(o.a)(e=>Object(v.createStyles)({actionButton:{flexGrow:1,margin:e.spacing.unit},inputSelectForm:{maxWidth:"100%",padding:e.spacing.unit,width:"100%"},root:{height:"100%",justifyContent:"center",overflow:"auto",padding:e.spacing.unit,width:"100%"},videoPreview:{backgroundColor:"black",height:180,marginBottom:3*e.spacing.unit,width:300}}))],H);var V=function(e,t,i,n){var s,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,i,o):s(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},_=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let X=class extends s.Component{constructor(){super(...arguments),this.state={showDrawer:!1}}render(){const{classes:e}=this.props,{showDrawer:t}=this.state;return s.createElement(y.j,{className:e.root},s.createElement(y.A,{title:"Configure source.",placement:"right"},s.createElement(y.b,{className:e.configureSourceTooltip,variant:"fab",onClick:this.onShowModal},s.createElement(W.d,null))),s.createElement(y.u,{open:t,onClose:this.onHideModal,onOpen:this.onShowModal},s.createElement(y.j,{className:e.drawerMenu,direction:"column",justify:"center",container:!0},s.createElement(y.B,{variant:"h6",gutterBottom:!0}," Input Source "),s.createElement(y.f,null),s.createElement(H,Object.assign({onInputSourcesChange:this.onSourcesUpdate},{})),s.createElement(y.f,null))))}async onSourcesUpdate(e){const t=await l.getUserMedia(e.videoInput,e.audioInput);this.props.onSourceStreamAndDevicesUpdate(t,e)}onShowModal(){this.setState({showDrawer:!0})}onHideModal(){this.setState({showDrawer:!1})}};V([r.Bind,_("design:type",Function),_("design:paramtypes",[Object]),_("design:returntype",Promise)],X.prototype,"onSourcesUpdate",null),V([r.Bind,_("design:type",Function),_("design:paramtypes",[]),_("design:returntype",void 0)],X.prototype,"onShowModal",null),V([r.Bind,_("design:type",Function),_("design:paramtypes",[]),_("design:returntype",void 0)],X.prototype,"onHideModal",null),X=V([Object(o.a)(e=>Object(v.createStyles)({configureSourceTooltip:{height:5*e.spacing.unit,margin:2*e.spacing.unit,width:5*e.spacing.unit},drawerMenu:{display:"flex",padding:2*e.spacing.unit,width:350},root:{alignSelf:"flex-start",left:0,position:"absolute",width:0}})),Object(p.a)(e=>({}),{onSourceStreamAndDevicesUpdate:(e,t)=>new m.a({stream:e,devices:t})})],X);var Y=i(728),q=i(5978);class $ extends C{constructor(){super(...arguments),this.selected=!1}isInteractive(){return!0}isSelected(){return this.selected}setSelected(e){this.selected=e}}class J extends ${afterResize(...e){}isResizable(){return!0}resize(e,t){this.onResize(e,t)}}class K extends J{constructor(){super(...arguments),this.selectionPadding=0}afterMove(...e){}isMovable(){return!0}move(e,t){this.onMove(e,t),this.afterMove(e,t)}}class Q extends K{isInBounds(e){const{topLeft:t,topRight:i,botLeft:n,botRight:s}=this.getBoundingRect(),r={x:e.x,y:e.y};t.x-=this.selectionPadding,t.y-=this.selectionPadding,i.x+=this.selectionPadding,i.y-=this.selectionPadding,n.x-=this.selectionPadding,n.y+=this.selectionPadding,s.x+=this.selectionPadding,s.y+=this.selectionPadding;const o=this.checkPointInTriangle(r,n,t,i),a=this.checkPointInTriangle(r,n,s,i);return o||a}checkTrianglesSign(e,t,i){return(e.x-i.x)*(t.y-i.y)-(t.x-i.x)*(e.y-i.y)<0}checkPointInTriangle(e,t,i,n){const s=this.checkTrianglesSign(e,t,i),r=this.checkTrianglesSign(e,i,n),o=this.checkTrianglesSign(e,n,t);return s===r&&r===o}onMove(e,t){const i=this.getBoundingRect(),n={x:0,y:0};n.x=i.topLeft.x+(e.x-t.x),n.y=i.topLeft.y+(e.y-t.y),this.setRoot(n.x,n.y)}renderSelectionOverElement(){const e=this.getContext(),{width:t,height:i}=this.getPercentageBaseSizing(),n=this.getBoundingRect(),s=(n.topRight.x-n.topLeft.x)/2,r=(n.botLeft.y-n.topLeft.y)/2,o={x:n.topRight.x-s,y:n.botRight.y-r};e.strokeStyle="#5dff71",e.fillStyle="#5dff71",e.lineWidth=3,e.beginPath(),e.arc(o.x,o.y,.2*t,0,2*Math.PI),e.fill(),e.closePath(),n.topLeft.x-=this.selectionPadding,n.topLeft.y-=this.selectionPadding,n.topRight.x+=this.selectionPadding,n.topRight.y-=this.selectionPadding,n.botRight.x+=this.selectionPadding,n.botRight.y+=this.selectionPadding,n.botLeft.x-=this.selectionPadding,n.botLeft.y+=this.selectionPadding,this.renderAnimatedDashedLine(n.topLeft,n.topRight),this.renderAnimatedDashedLine(n.topRight,n.botRight),this.renderAnimatedDashedLine(n.botRight,n.botLeft),this.renderAnimatedDashedLine(n.botLeft,n.topLeft)}renderAnimatedDashedLine(e,t,i=0){const n=this.getContext();n.lineDashOffset=-(Date.now()-this.createdAt)%2e3/8,n.setLineDash([25,25]),n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.closePath(),n.setLineDash([0]),n.lineDashOffset=0}}class Z extends Q{constructor(e,t,i,n){super(),this.owner=null,this.absoluteLeft=0,this.absoluteTop=0,this.absoluteWidth=15,this.absoluteHeight=15,this.selectionPadding=0,this.corner=0,this.absoluteLeft=e,this.absoluteTop=t,this.absoluteWidth=i,this.absoluteHeight=n}renderSelf(){this.renderElement()}renderInteraction(){}afterMove(){this.owner.afterResize(this,this.corner)}isInResizeBounds(e){return!1}updateAbsoluteSizing(e,t,i,n){this.absoluteLeft=e,this.absoluteTop=t,this.absoluteWidth=i,this.absoluteHeight=n}setOwner(e){this.owner=e}setCorner(e){this.corner=e}onResize(e,t){}onMove(e,t){const i=this.getBoundingRect(),n=(i.topRight.x-i.topLeft.x)/2,s=(i.botLeft.y-i.topLeft.y)/2;this.setRoot(e.x-n,e.y-s)}setRoot(e,t){this.absoluteLeft=e,this.absoluteTop=t}getBoundingRect(){const e={x:this.absoluteLeft,y:this.absoluteTop},t={x:this.absoluteLeft+this.absoluteWidth,y:this.absoluteTop},i={x:this.absoluteLeft+this.absoluteWidth,y:this.absoluteTop+this.absoluteHeight};return{topLeft:e,topRight:t,botLeft:{x:this.absoluteLeft,y:this.absoluteTop+this.absoluteHeight},botRight:i}}renderElement(){const e=this.getContext();e.lineWidth=2,e.beginPath(),e.rect(this.absoluteLeft,this.absoluteTop,this.absoluteWidth,this.absoluteHeight),e.stroke(),e.closePath()}}class ee extends Q{constructor(e,t,i,n){super(),this.left=0,this.top=0,this.width=5,this.height=5,this.resizeControlsSize=15,this.resizeTopLeft=new Z(0,0,15,15),this.resizeTopRight=new Z(0,0,15,15),this.resizeBotLeft=new Z(0,0,15,15),this.resizeBotRight=new Z(0,0,15,15);const s=e||40,r=t||40,o=i||20,a=n||20;this.left=s,this.top=r,this.width=o,this.height=a,this.resizeTopLeft.setOwner(this),this.resizeTopRight.setOwner(this),this.resizeBotLeft.setOwner(this),this.resizeBotRight.setOwner(this),this.resizeTopLeft.setCorner(1),this.resizeTopRight.setCorner(0),this.resizeBotLeft.setCorner(2),this.resizeBotRight.setCorner(3)}renderInteraction(){this.renderSelectionOverElement(),this.renderResizeControls()}isInResizeBounds(e){return this.resizeTopLeft.isInBounds(e)||this.resizeTopRight.isInBounds(e)||this.resizeBotLeft.isInBounds(e)||this.resizeBotRight.isInBounds(e)}afterResize(e,t){const i=this.getBoundingRect();let n=0,s=0;switch(t){case 0:s=this.asPercentageHeight(e.absoluteTop-i.topRight.y),this.top+=s,this.height-=s,this.width+=this.asPercentageWidth(e.absoluteLeft+e.absoluteWidth-i.topLeft.x-this.getPercentageWidth(this.width));break;case 1:n=this.asPercentageWidth(e.absoluteLeft-i.topLeft.x),this.left+=n,this.width-=n,s=this.asPercentageHeight(e.absoluteTop-i.topRight.y),this.top+=s,this.height-=s;break;case 2:n=this.asPercentageWidth(e.absoluteLeft-i.topLeft.x),this.left+=n,this.width-=n,this.height+=this.asPercentageHeight(e.absoluteTop+e.absoluteHeight-i.topLeft.y-this.getPercentageHeight(this.height));break;case 3:this.width+=this.asPercentageWidth(e.absoluteLeft+e.absoluteWidth-i.botLeft.x-this.getPercentageWidth(this.width)),this.height+=this.asPercentageHeight(e.absoluteTop+e.absoluteHeight-i.topLeft.y-this.getPercentageHeight(this.height));break;default:throw new Error("Unknown corner: "+t)}}onResize(e,t){const i=this.getBoundingRect(),n=(i.topRight.x-i.topLeft.x)/2,s=(i.botLeft.y-i.topLeft.y)/2,r=i.topRight.x-n,o=i.botRight.y-s;e.x>r&&e.y<o?this.resizeTopRight.move(e,t):e.x<r&&e.y<o?this.resizeTopLeft.move(e,t):e.x<r&&e.y>o?this.resizeBotLeft.move(e,t):this.resizeBotRight.move(e,t)}setRoot(e,t){this.left=100*e/this.getPercentageWidth(100),this.top=100*t/this.getPercentageHeight(100)}getBoundingRect(){const{width:e,height:t}=this.getPercentageBaseSizing(),i={x:this.left*e,y:this.top*t},n={x:this.left*e+this.width*e,y:this.top*t},s={x:this.left*e+this.width*e,y:this.top*t+this.height*t};return{topLeft:i,topRight:n,botLeft:{x:this.left*e,y:this.top*t+this.height*t},botRight:s}}renderResizeControls(){const{width:e,height:t}=this.getPercentageBaseSizing(),i=this.resizeControlsSize,n=this.height*t,s=this.width*e;this.resizeTopLeft.setContext(this.getContext()),this.resizeTopRight.setContext(this.getContext()),this.resizeBotLeft.setContext(this.getContext()),this.resizeBotRight.setContext(this.getContext()),this.resizeTopLeft.setSizing(this.getSizing()),this.resizeTopRight.setSizing(this.getSizing()),this.resizeBotLeft.setSizing(this.getSizing()),this.resizeBotRight.setSizing(this.getSizing()),this.resizeTopLeft.updateAbsoluteSizing(this.left*e,this.top*t,i,i),this.resizeTopRight.updateAbsoluteSizing(this.left*e,this.top*t+n-i,i,i),this.resizeBotLeft.updateAbsoluteSizing(this.left*e+s-i,this.top*t,i,i),this.resizeBotRight.updateAbsoluteSizing(this.left*e+s-i,this.top*t+n-i,i,i),this.resizeTopLeft.renderSelf(),this.resizeTopRight.renderSelf(),this.resizeBotLeft.renderSelf(),this.resizeBotRight.renderSelf()}}class te extends K{isInBounds(e){const{x:t,y:i}=this.getBoundsCenter();return Math.sqrt(Math.pow(e.x-t,2)+Math.pow(e.y-i,2))<this.getBoundsRadius()}onMove(e,t){const i=this.getBoundsCenter(),n={x:0,y:0};n.x=i.x+(e.x-t.x),n.y=i.y+(e.y-t.y),this.setBoundsCenter({x:this.asPercentageWidth(n.x),y:this.asPercentageHeight(n.y)})}renderSelectionOverElement(){const e=this.getContext(),t=this.getBoundsCenter(),i=100*this.getBoundsRadius()/this.getPercentageWidth(100),{width:n}=this.getPercentageBaseSizing(),s=(Date.now()-this.createdAt)/2e3*Math.PI,r=.1*Math.PI;e.strokeStyle="#5dff71",e.fillStyle="#5dff71",e.lineWidth=3,e.beginPath(),e.arc(t.x,t.y,.25*n,0,2*Math.PI),e.fill(),e.closePath();for(let o=0;o<8;o++){const a=2*Math.PI/8*o;e.beginPath(),e.arc(t.x,t.y,i*n+this.selectionPadding,a+s,a+r+s),e.stroke(),e.closePath()}}}class ie extends te{constructor(e,t){super(),this.radius=150,this.center={x:100,y:100},this.resizeControlsSize=10,this.resizeControl=new Z(0,0,15,15),this.radius=e||10,this.center=t||{x:50,y:50}}renderInteraction(){this.renderSelectionOverElement(),this.renderResizeControls()}isInResizeBounds(e){const t=Math.sqrt(Math.pow(e.x-this.getPercentageWidth(this.center.x),2)+Math.pow(e.y-this.getPercentageHeight(this.center.y),2));return this.selected&&Math.abs(this.getPercentageWidth(this.radius)-t)<4||this.resizeControl.isInBounds(e)}onResize(e,t){const i=Math.sqrt(Math.pow(e.x-this.getPercentageWidth(this.center.x),2)+Math.pow(e.y-this.getPercentageHeight(this.center.y),2));this.radius=this.asPercentageWidth(Math.max(this.resizeControlsSize+2,i))}getBoundsRadius(){return this.getPercentageWidth(this.radius)}setBoundsCenter(e){this.center.x=e.x,this.center.y=e.y}getBoundsCenter(){return{x:this.getPercentageWidth(this.center.x),y:this.getPercentageHeight(this.center.y)}}renderResizeControls(){const{width:e,height:t}=this.getPercentageBaseSizing(),i=this.resizeControlsSize;this.resizeControl.setContext(this.getContext()),this.resizeControl.setSizing(this.getSizing()),this.resizeControl.updateAbsoluteSizing(this.center.x*e-i/2,this.center.y*t-this.radius*e,i,i),this.resizeControl.renderSelf()}}class ne{static getRenderingDescriptors(){return this.RENDER_DESCRIPTORS}}ne.RENDER_DESCRIPTORS=[{description:"Simple rectangle",name:"Rectangle",prototype:class extends ee{renderSelf(){const e=this.getContext(),{width:t,height:i}=this.getPercentageBaseSizing();e.strokeStyle="#ff6664",e.lineWidth=3,e.beginPath(),e.rect(this.left*t,this.top*i,this.width*t,this.height*i),e.stroke(),e.closePath()}}.prototype},{description:"Simple circle",name:"Circle",prototype:class extends ie{renderSelf(){const e=this.getContext(),{width:t,height:i}=this.getPercentageBaseSizing();e.strokeStyle="#ff0033",e.lineWidth=3,e.beginPath(),e.arc(this.center.x*t,this.center.y*i,this.radius*t,0,2*Math.PI),e.stroke()}}.prototype}];var se=function(e,t,i,n){var s,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,i,o):s(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},re=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let oe=class extends s.Component{render(){const{classes:e}=this.props;return s.createElement(y.j,{className:e.root},s.createElement(y.o,null,ne.getRenderingDescriptors().map(this.renderCanvasItem)))}renderCanvasItem(e){const{classes:t,onObjectAdded:i}=this.props;return s.createElement(y.p,{key:"RI-"+e.prototype.constructor.name,className:t.descriptionItem},s.createElement(y.r,{primary:e.name}),s.createElement(y.q,{className:t.descriptorItemSecondary},s.createElement(y.k,{"aria-label":"Add",onClick:()=>i(e)},s.createElement(W.a,null))))}};se([r.Bind,re("design:type",Function),re("design:paramtypes",[Object]),re("design:returntype",Object)],oe.prototype,"renderCanvasItem",null),oe=se([Object(o.a)(e=>Object(v.createStyles)({descriptionItem:{},descriptorItemSecondary:{},root:{backgroundColor:e.palette.primary.light,flexGrow:1,margin:`0 ${4*e.spacing.unit}px`,minWidth:"300px"}}))],oe);var ae=function(e,t,i,n){var s,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,i,o):s(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},ce=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let de=class extends s.Component{constructor(){super(...arguments),this.state={showAdditionWindow:!1},this.contentRef=Object(s.createRef)()}componentDidMount(){window.addEventListener("mousedown",this.handleWindowClick)}componentWillUnmount(){window.removeEventListener("mousedown",this.handleWindowClick)}render(){const{classes:e,onObjectAdded:t,inputStream:i}=this.props,{showAdditionWindow:n}=this.state;return s.createElement("div",{className:n?e.root:e.rootEmpty,ref:this.contentRef},s.createElement(y.A,{title:"Add object.",placement:"right"},s.createElement(y.b,{className:e.addObjectTooltip,disabled:null===i,variant:"fab",onClick:this.onToggleShowAdditionWindow},n?s.createElement(W.f,null):s.createElement(W.a,null))),s.createElement(y.e,{in:n},s.createElement(oe,Object.assign({onObjectAdded:t},{}))))}handleWindowClick(e){const t=this.contentRef.current&&this.contentRef.current.querySelector("ul"),i=t&&!t.contains(e.target);!0===this.state.showAdditionWindow&&!0===i&&this.setState({showAdditionWindow:!1})}onObjectAdded(){this.props.onObjectAdded("")}onObjectRemoved(){this.props.onObjectRemoved("")}onObjectChanged(){this.props.onObjectChanged("")}onToggleShowAdditionWindow(e){e.stopPropagation(),this.setState({showAdditionWindow:!this.state.showAdditionWindow})}};ae([r.Bind,ce("design:type",Function),ce("design:paramtypes",[MouseEvent]),ce("design:returntype",void 0)],de.prototype,"handleWindowClick",null),ae([r.Bind,ce("design:type",Function),ce("design:paramtypes",[]),ce("design:returntype",void 0)],de.prototype,"onObjectAdded",null),ae([r.Bind,ce("design:type",Function),ce("design:paramtypes",[]),ce("design:returntype",void 0)],de.prototype,"onObjectRemoved",null),ae([r.Bind,ce("design:type",Function),ce("design:paramtypes",[]),ce("design:returntype",void 0)],de.prototype,"onObjectChanged",null),ae([r.Bind,ce("design:type",Function),ce("design:paramtypes",[Object]),ce("design:returntype",void 0)],de.prototype,"onToggleShowAdditionWindow",null),de=ae([Object(o.a)(e=>Object(v.createStyles)({addObjectTooltip:{height:5*e.spacing.unit,margin:2*e.spacing.unit,width:5*e.spacing.unit},root:{alignSelf:"flex-start",left:0,position:"absolute",top:13*e.spacing.unit},rootEmpty:{alignSelf:"flex-start",left:0,position:"absolute",top:13*e.spacing.unit,width:0}})),Object(p.a)(e=>({inputStream:e.source.inputStream}),{onObjectAdded:e=>new q.a({object:e}),onObjectChanged:e=>Y.a.error(e),onObjectRemoved:e=>Y.a.error(e)})],de);let he=class extends s.PureComponent{render(){const{renderObjects:e,showPreview:t,showGraphics:i,showGrid:n,stream:r}=this.props;return s.createElement(y.j,{className:this.props.classes.root,justify:"center",alignItems:"center",container:!0},s.createElement(A,{stream:r,renderingObjects:e,showGrid:n,showGraphics:i,showPreview:t}),this.renderHelperManagers())}renderHelperManagers(){return s.createElement(s.Fragment,null,s.createElement(de,Object.assign({},{})),s.createElement(X,Object.assign({},{})),s.createElement(U,Object.assign({},{})))}};he=function(e,t,i,n){var s,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,i,o):s(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o}([Object(o.a)(e=>Object(v.createStyles)({root:{boxSizing:"border-box",flexBasis:"20rem",flexGrow:1,height:"100%",overflow:"hidden",width:"100%","& canvas":{background:`linear-gradient(to bottom, ${e.palette.primary.light} 15%, ${e.palette.primary.dark} 95%);`}}}))],he);var le=function(e,t,i,n){var s,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,i,o):s(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},pe=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let ue=class extends s.Component{constructor(){super(...arguments),this.state={currentTab:0}}componentWillMount(){this.setDefaultVideo()}render(){const{classes:e,renderObjects:t,showPreview:i,showGraphics:n,showGrid:r,inputStream:o}=this.props;return s.createElement(y.j,{className:e.root,direction:"column",wrap:"nowrap",container:!0},s.createElement(b.a,Object.assign({},{})),s.createElement(y.j,{className:e.content,container:!0},s.createElement(y.j,{className:e.streamingVideoSection,direction:"row",container:!0},s.createElement(y.j,{className:e.streamingVideo,item:!0},s.createElement(he,Object.assign({stream:o,renderObjects:t,showGrid:r,showGraphics:n,showPreview:i},{}))),s.createElement(y.j,{className:e.configSidebar,item:!0},s.createElement(S,Object.assign({showGrid:r,showGraphics:n,showPreview:i,onPreviewToggle:this.onTogglePreviewMode,onGraphicsToggle:this.onToggleGraphics,onGridToggle:this.onToggleGridDisplay},{})))),s.createElement(y.j,{className:e.under},this.renderTabs())))}renderTabs(){return s.createElement(y.a,{position:"relative",color:"default"},s.createElement(y.x,{value:this.state.currentTab,onChange:this.onTabChange,scrollButtons:"on",indicatorColor:"primary",textColor:"primary"},s.createElement(y.w,{label:"Graphics"}),s.createElement(y.w,{label:"Something else..."}),s.createElement(y.w,{label:"Something else..."})))}async setDefaultVideo(){const{selectedDevices:e,updateStreamAndSources:t}=this.props;t(await l.getUserMedia(e.videoInput,e.audioInput),e)}onTabChange(e,t){this.setState({currentTab:+t})}onToggleGridDisplay(e){this.props.setGridDisplay(e)}onToggleGraphics(e){this.props.setGraphicsDisplay(e)}onTogglePreviewMode(e){this.props.setPreviewMode(e)}};le([r.Bind,pe("design:type",Function),pe("design:paramtypes",[Object,Object]),pe("design:returntype",void 0)],ue.prototype,"onTabChange",null),le([r.Bind,pe("design:type",Function),pe("design:paramtypes",[Boolean]),pe("design:returntype",void 0)],ue.prototype,"onToggleGridDisplay",null),le([r.Bind,pe("design:type",Function),pe("design:paramtypes",[Boolean]),pe("design:returntype",void 0)],ue.prototype,"onToggleGraphics",null),le([r.Bind,pe("design:type",Function),pe("design:paramtypes",[Boolean]),pe("design:returntype",void 0)],ue.prototype,"onTogglePreviewMode",null),ue=le([Object(p.a)(e=>({inputStream:e.source.inputStream,selectedDevices:e.source.selectedDevices,renderObjects:e.graphics.objects,showGraphics:e.graphics.showGraphics,showGrid:e.graphics.showGrid,showPreview:e.graphics.showPreview}),{setGraphicsDisplay:e=>new u.a({show:e}),setGridDisplay:e=>new g.a({show:e}),setPreviewMode:e=>new f.a({show:e}),updateStreamAndSources:(e,t)=>new m.a({stream:e,devices:t})}),Object(o.a)(e=>Object(v.createStyles)({configSidebar:{backgroundColor:e.palette.secondary.light,display:"flex",flexDirection:"column",flexGrow:1,minWidth:250,padding:e.spacing.unit},content:{flexDirection:"column",flexGrow:75,flexWrap:"nowrap",overflow:"auto",width:"100%"},root:{width:"100%"},streamingVideo:{"@media (max-width: 1225px)":{width:"100%"},"@media (min-width: 1225px)":{width:"75%"},backgroundColor:e.palette.secondary.light,display:"flex",flexDirection:"column",minHeight:350,minWidth:"75%",padding:e.spacing.unit,position:"relative"},streamingVideoSection:{justifyContent:"center",minHeight:600,overflow:"auto",width:"100%"},under:{backgroundColor:e.palette.secondary.light,flexGrow:1,minHeight:200}}))],ue),i.d(t,"StreamConfigurationPage",function(){return ue})}}]);